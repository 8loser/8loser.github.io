<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>åˆ¥åœ¨åœåŸæ™‚èµ°æ•£</title>
        <subtitle></subtitle>
        <icon>https://8loser.github.io/assets/favicon.ico</icon>
        <link>https://8loser.github.io</link>
        <author>
          <name>å…«æ¨“çš„äºº</name>
        </author>
        <description>æˆ‘åœ¨å…«æ¨“é–’æ™ƒ</description>
        <language>zh-TW</language>
        <pubDate>Tue, 10 Feb 2026 01:21:00 +0800</pubDate>
        <lastBuildDate>Tue, 10 Feb 2026 01:21:00 +0800</lastBuildDate>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2026/02/10/linux-hid-permission/</guid>
            <title>Linux HID è£ç½®æ¬Šé™å•é¡Œ</title>
            <link>https://8loser.github.io/2026/02/10/linux-hid-permission/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <category term="HID" scheme="https://8loser.github.io/tags/HID/" />
            <category term="udev" scheme="https://8loser.github.io/tags/udev/" />
            <pubDate>Tue, 10 Feb 2026 01:21:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å•é¡Œæè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•é¡Œæè¿°&#34;&gt;#&lt;/a&gt; å•é¡Œæè¿°&lt;/h1&gt;
&lt;p&gt;ErgoKB åœ¨ Chrome é€²è¡Œ Remap æ™‚ï¼Œé¸æ“‡ HID è£ç½®å¾Œå‡ºç¾  &lt;code&gt;Could not open&lt;/code&gt;  éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;OS: EndeavourOS&lt;/li&gt;
&lt;li&gt;éµç›¤: ErgoKB Phoenix v2 åˆ†é›¢å¼äººé«”å·¥å­¸æ©Ÿæ¢°éµç›¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;diagnosis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#diagnosis&#34;&gt;#&lt;/a&gt; Diagnosis&lt;/h1&gt;
&lt;p&gt;æŸ¥çœ‹ HID è£ç½®æ¬Šé™ï¼Œå…¨éƒ¨éƒ½åªæœ‰ root æ‰æœ‰è®€å¯«æ¬Šé™ï¼Œæ‡‰è©²æ˜¯æ¬Šé™å•é¡Œï¼ˆé€™é‚Šçœ‹ä¸å‡ºæ¯å€‹ HID æ˜¯ä»€éº¼è£ç½®ï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;[root@localhost] $&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-l&lt;/span&gt; /dev/hidraw*&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;crw------- &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;token number&#34;&gt;243&lt;/span&gt;, &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;æœˆ  &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:50 /dev/hidraw0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;crw------- &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;token number&#34;&gt;243&lt;/span&gt;, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;æœˆ  &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:50 /dev/hidraw1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;crw------- &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;token number&#34;&gt;243&lt;/span&gt;, &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;æœˆ  &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:50 /dev/hidraw2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;crw------- &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;token number&#34;&gt;243&lt;/span&gt;, &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;æœˆ  &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:50 /dev/hidraw3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;solution&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#solution&#34;&gt;#&lt;/a&gt; Solution&lt;/h1&gt;
&lt;p&gt;æŸ¥çœ‹è£ç½® VID, PID, å¾—çŸ¥ VID/PID ç‚º  &lt;code&gt;1209:2304&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;[root@localhost] $&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;lsusb&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 001 Device 001: ID 1d6b:0002 Linux Foundation &lt;span class=&#34;token number&#34;&gt;2.0&lt;/span&gt; root hub&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 001 Device 003: ID 046d:c52b Logitech, Inc. Unifying Receiver&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 001 Device 004: ID &lt;span class=&#34;token number&#34;&gt;8087&lt;/span&gt;:0029 Intel Corp. AX200 Bluetooth&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 001 Device 007: ID &lt;span class=&#34;token number&#34;&gt;1209&lt;/span&gt;:2304 Generic Phoenix-v2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 002 Device 001: ID 1d6b:0003 Linux Foundation &lt;span class=&#34;token number&#34;&gt;3.0&lt;/span&gt; root hub&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 003 Device 001: ID 1d6b:0002 Linux Foundation &lt;span class=&#34;token number&#34;&gt;2.0&lt;/span&gt; root hub&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td data-command=&#34;&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Bus 004 Device 001: ID 1d6b:0003 Linux Foundation &lt;span class=&#34;token number&#34;&gt;3.0&lt;/span&gt; root hub&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å»ºç«‹è£ç½®å°ˆç”¨ rule æª”æ¡ˆ  &lt;code&gt;/etc/udev/rules.d/99-ergokb.rules&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯«å…¥è¨­å®š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;KERNEL&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hidraw*&#34;&lt;/span&gt;, &lt;span class=&#34;token assign-left variable&#34;&gt;SUBSYSTEM&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hidraw&#34;&lt;/span&gt;, &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  ATTRS&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;idVendor&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;1209&#34;&lt;/span&gt;, ATTRS&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;idProduct&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;2304&#34;&lt;/span&gt;, &lt;span class=&#34;token assign-left variable&#34;&gt;MODE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;0666&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;èªªæ˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VID/PID ç‚ºå‰›å‰›æŸ¥è©¢åˆ°çš„  &lt;code&gt;1209:2304&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MODE=&amp;quot;0666&amp;quot;&lt;/code&gt;  è¨­å®šè£ç½®æ¬Šé™ç‚º  &lt;code&gt;rw-rw-rw-&lt;/code&gt; ï¼Œå…è¨±æ‰€æœ‰ä½¿ç”¨è€…è®€å¯«&lt;/li&gt;
&lt;li&gt;åŸæœ¬è£ç½®æ¬Šé™æ˜¯  &lt;code&gt;crw------- (600)&lt;/code&gt; ï¼Œåªæœ‰ root å¯ä»¥å­˜å–&lt;/li&gt;
&lt;li&gt;æ”¹ç‚º  &lt;code&gt;0666&lt;/code&gt;  å¾Œï¼Œä¸€èˆ¬ä½¿ç”¨è€…ï¼ˆåŒ…å« Chromeï¼‰ä¹Ÿèƒ½å­˜å– HID è£ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡æ–°è¼‰å…¥è¨­å®š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; udevadm control --reload-rules  &lt;span class=&#34;token comment&#34;&gt;# é‡æ–°è¼‰å…¥ udev è¦å‰‡æª”æ¡ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; udevadm trigger                  &lt;span class=&#34;token comment&#34;&gt;# è§¸ç™¼äº‹ä»¶ï¼Œå°‡æ–°è¦å‰‡æ‡‰ç”¨åˆ°ç¾æœ‰è¨­å‚™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;udevadm control --reload-rules&lt;/code&gt; ï¼šé‡æ–°è®€å–  &lt;code&gt;/etc/udev/rules.d/&lt;/code&gt;  ç›®éŒ„ä¸‹çš„æ‰€æœ‰è¦å‰‡æª”æ¡ˆ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;udevadm trigger&lt;/code&gt; ï¼šè§¸ç™¼ udev äº‹ä»¶ï¼Œè®“ç³»çµ±é‡æ–°æƒææ‰€æœ‰è¨­å‚™ä¸¦å¥—ç”¨æ–°è¦å‰‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸ·è¡Œå®Œå¾Œ &lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;å¦‚æœé‚„æ˜¯ä¸è¡Œæˆ‘å‹¸ä½ éµç›¤æ‹”æ‰é‡æ’å•¦&lt;/span&gt;ï¼Œé‡æ–°é–‹å•Ÿ remap é é¢å³å¯æ­£å¸¸ä½¿ç”¨ã€‚ ğŸ‰&lt;/p&gt;
&lt;p&gt;å°äº†ï¼Œå¦‚æœåœ¨ Linux OS, é€™ç¯‡å°±æœ‰å¯èƒ½é‡åˆ°é€™å€‹å•é¡Œï¼›&lt;a href=&#34;/2025/06/23/node-usb-relay/&#34;&gt;Node.JS æ§åˆ¶ USB ç¹¼é›»å™¨&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2026/02/07/rag-tutorial/</guid>
            <title>RAG æ•™å­¸</title>
            <link>https://8loser.github.io/2026/02/07/rag-tutorial/</link>
            <category term="RAG" scheme="https://8loser.github.io/tags/RAG/" />
            <category term="AI" scheme="https://8loser.github.io/tags/AI/" />
            <category term="æª¢ç´¢å¢å¼·ç”Ÿæˆ" scheme="https://8loser.github.io/tags/%E6%AA%A2%E7%B4%A2%E5%A2%9E%E5%BC%B7%E7%94%9F%E6%88%90/" />
            <pubDate>Sat, 07 Feb 2026 10:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;æ¶æ§‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ§‹&#34;&gt;#&lt;/a&gt; æ¶æ§‹&lt;/h1&gt;
&lt;p&gt;RAGï¼ˆRetrieval-Augmented Generation; æª¢ç´¢å¢å¼·ç”Ÿæˆï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;R - Retrieval (æª¢ç´¢)&lt;br /&gt;
 è³‡æ–™ç«¯ï¼š åŸå§‹æ–‡ä»¶ç¶“é Embedding Model è½‰ç‚ºå‘é‡ï¼Œå­˜å…¥ Vector DBã€‚&lt;br /&gt;
æŸ¥è©¢ç«¯ï¼š ä½¿ç”¨è€…å•é¡ŒåŒæ¨£è½‰ç‚ºå‘é‡ï¼Œå»è³‡æ–™åº«é€²è¡Œç›¸ä¼¼åº¦æª¢ç´¢ï¼ˆSimilarity Searchï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A - Augmentation (å¢å¼·)&lt;br /&gt;
 çµ„åˆï¼š å°‡æª¢ç´¢å‡ºä¾†çš„ã€Œå¤–éƒ¨çŸ¥è­˜ï¼ˆContextï¼‰ã€èˆ‡ã€ŒåŸå§‹å•é¡Œï¼ˆQueryï¼‰ã€æ”¾å…¥ä¸€å€‹ Prompt Template ä¸­ã€‚&lt;br /&gt;
ä»»å‹™ï¼š é€™å€‹å‹•ä½œæ˜¯ç‚ºäº†è®“ LLM æ“æœ‰å®ƒåŸæœ¬è¨“ç·´æ•¸æ“šä¸­æ²’æœ‰çš„ç‰¹å®šè³‡è¨Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;G - Generation (ç”Ÿæˆ)&lt;br /&gt;
 è¼¸å‡ºï¼š å°‡åŠ å¼·éçš„ Prompt ä¸Ÿçµ¦ LLMã€‚&lt;br /&gt;
å›è¦†ï¼š LLM æ ¹æ“šçµ¦å®šçš„åƒè€ƒè³‡æ–™ç”¢å‡ºç²¾æº–çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ç†è§£çš„æ¶æ§‹åœ–&lt;img loading=&#34;lazy&#34; src=&#34;rag-diagram.png&#34; alt=&#34;RAG diagram&#34; /&gt;&lt;/p&gt;
&lt;details class=&#34;danger&#34;&gt;&lt;summary&gt;Gemini ç•«çš„å•¥ç©æ„å…’&lt;/summary&gt;&lt;div&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;rag-diagram-gemini.png&#34; alt=&#34;RAG diagram - Gemini&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;h1 id=&#34;éœ€æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éœ€æ±‚&#34;&gt;#&lt;/a&gt; éœ€æ±‚&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;embed modelï¼šå°‡è²éŸ³ã€åœ–ç‰‡ã€å½±ç‰‡ã€æ–‡å­—ç­‰è½‰æˆå‘é‡æ•¸å€¼ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;vector dbï¼šå„²å­˜å‘é‡æ•¸æ“šåŠå°æ‡‰å…§å®¹&lt;/li&gt;
&lt;li&gt;LLMï¼šç”Ÿæˆå¼ AI&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;embedding&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#embedding&#34;&gt;#&lt;/a&gt; Embedding&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ Sentence-Transformers è¼‰å…¥ embed modelï¼Œå°‡æ–‡å­—è½‰æˆé«˜ç¶­åº¦å‘é‡ç‰¹å¾µã€‚&lt;/p&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;å®‰è£ä¾è³´å¥—ä»¶&lt;/summary&gt;&lt;div&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; sentence-transformers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/details&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;span&gt;Embedding&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åŠ ä¸Š huggingface çš„é¡åƒç«™é»ç’°å¢ƒè®Šæ•¸ï¼Œé¿å…ä¸‹è¼‰æ¨¡å‹å¤ªæ…¢&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; os&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;os&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;environ&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;HF_ENDPOINT&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://hf-mirror.com&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; sentence_transformers &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; SentenceTransformer&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¼‰å…¥æ¨¡å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;model &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; SentenceTransformer&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;all-MiniLM-L6-v2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æº–å‚™æ–‡å­—&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentences &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;é€™æ˜¯ä¸€æ®µæ¸¬è©¦æ–‡å­—&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;EndeavourOS é–‹ç™¼ç’°å¢ƒ&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å–å¾— Feature Vector&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;embeddings &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; model&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;encode&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;sentences&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ Shape [å¥å­æ•¸é‡ï¼Œæ¯å€‹å¥å­çš„ç¶­åº¦]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¼¸å‡ºæœƒæ˜¯ (2, 384)ï¼Œä»£è¡¨ 2 å€‹å¥å­ï¼Œæ¯å€‹å¥å­ 384 ç¶­ï¼Œæ˜¯ all-MiniLM-L6-v2 æ¨¡å‹çš„ç‰¹å¾µç¶­åº¦ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;å‘é‡å½¢ç‹€ (embeddings.shape): &lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;embeddings&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;shape&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹å…·é«”æ•¸å€¼ (åªå°å‡ºç¬¬ä¸€å¥çš„å‰ 5 å€‹ç‰¹å¾µå€¼ä½œç‚ºç¯„ä¾‹)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;ç¬¬ä¸€å¥çš„å‰ 5 å€‹ç‰¹å¾µå€¼: &lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;embeddings&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token format-spec&#34;&gt;5]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åŸ·è¡Œçµæœ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å‘é‡å½¢ç‹€ (embeddings.shape): (2, 384)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç¬¬ä¸€å¥çš„å‰ 5 å€‹ç‰¹å¾µå€¼: [0.03097137 0.09432378 0.04806018 0.02745436 0.02937624]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;div class=&#34;note info&#34;&gt;
&lt;ul&gt;
&lt;li&gt;é™¤äº† Sentence-Transformers ä¹Ÿå¯ä»¥ç”¨ Ollama è¼‰å…¥ embed modelï¼Œå‘¼å« Ollama API å–å¾—å‘é‡å€¼&lt;/li&gt;
&lt;li&gt;é¸å°æ¨¡å‹å¾ˆé‡è¦ï¼Œæ”¹æˆ  &lt;code&gt;paraphrase-multilingual-MiniLM-L12-v2&lt;/code&gt;  æ¨¡å‹ï¼Œå°ä¸­æ–‡ç†è§£ç¨‹åº¦æ¯”è¼ƒé«˜&lt;/li&gt;
&lt;li&gt;è²éŸ³ã€åœ–ç‰‡ã€å½±ç‰‡ã€æ–‡å­—è½‰ç‚ºé«˜ç¶­åº¦å‘é‡ç‰¹å¾µï¼Œé€™å€‹éç¨‹å«  &lt;code&gt;embedding&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id=&#34;vector-db&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#vector-db&#34;&gt;#&lt;/a&gt; Vector DB&lt;/h1&gt;
&lt;p&gt;å°‡å‘é‡èˆ‡å…§å®¹å­˜å…¥ vector dbï¼Œå¾ŒçºŒå¯ä»¥æœå°‹è·Ÿå•é¡Œç›¸ä¼¼åº¦é«˜çš„å…§å®¹ï¼Œé€™è£¡é¸ç”¨ Qdrant&lt;/p&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;å®‰è£ä¾è³´å¥—ä»¶&lt;/summary&gt;&lt;div&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; sentence-transformers qdrant-client&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;å¯ä»¥ç”¨ docker æˆ– podman å•Ÿå‹• Qdrant&lt;/summary&gt;&lt;div&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;å•Ÿå‹• Qdrant container&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;podman&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6333&lt;/span&gt;:6333 &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6334&lt;/span&gt;:6334 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;/qdrant_storage:/qdrant/storage:z &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    docker.io/qdrant/qdrant&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/details&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;span&gt;Vector DB&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; os&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;os&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;environ&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;HF_ENDPOINT&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://hf-mirror.com&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; sentence_transformers &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; SentenceTransformer&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; qdrant_client &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; QdrantClient&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; qdrant_client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;models &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; Distance&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; VectorParams&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; PointStruct&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¼‰å…¥ Embed Model, æ”¹ç”¨ paraphrase-multilingual-MiniLM-L12-v2 å°ä¸­æ–‡ç†è§£ç¨‹åº¦æ¯”è¼ƒå¥½&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;model &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; SentenceTransformer&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;paraphrase-multilingual-MiniLM-L12-v2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å»ºç«‹ Qdrant å®¢æˆ¶ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;client &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; QdrantClient&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;127.0.0.1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; port&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6333&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# collection ä¸å­˜åœ¨å‰‡å»ºç«‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# size ç‚º 384, å¿…é ˆè·Ÿ embed model ç¶­åº¦æ­é…&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;collection_name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;multilingual_notes&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;not&lt;/span&gt; client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;collection_exists&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;collection_name&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;create_collection&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        collection_name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;collection_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        vectors_config&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;VectorParams&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;384&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; distance&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;Distance&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;COSINE&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æº–å‚™å¯«å…¥çš„è³‡æ–™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;documents &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;EndeavourOS ä½¿ç”¨ pacman ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ã€‚&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Python çš„è™›æ“¬ç’°å¢ƒå¯ä»¥é€é venv æ¨¡çµ„å»ºç«‹ã€‚&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Vector Database è² è²¬å„²å­˜é«˜ç¶­åº¦çš„å‘é‡æ•¸æ“šã€‚&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ç­‰æ˜¥ç¯€ç‰¹è³£å«éš”å£ç‹å”å”è²·çµ¦ä½ &#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ç‰›ä»”è¤²ç‰¹è³£æœƒåœ¨ä¸‹é€±æœ«èˆ‰è¡Œï¼Œåˆ¥å¿˜äº†å»çœ‹çœ‹ï¼&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ‰¹æ¬¡ç”¢ç”Ÿæ¯å€‹å…§å®¹çš„å‘é‡ï¼Œåˆ©ç”¨ GPU åŠ é€Ÿæ‰¹æ¬¡è™•ç†çœæ•ˆèƒ½&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;texts &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;doc&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; doc &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; documents&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;vectors &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; model&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;encode&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;texts&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å»ºç«‹å‘é‡èˆ‡å…§å®¹è³‡æ–™é»&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;points &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; doc &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;enumerate&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;documents&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    points&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;append&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;PointStruct&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token builtin&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;doc&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        vector&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;vectors&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tolist&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        payload&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;page_content&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; doc&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ–°å¢è³‡æ–™é»åˆ° Qdrant&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;upsert&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;collection_name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;collection_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; points&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;points&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# èªç¾©æœå°‹æ¸¬è©¦&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;query_text &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;åª½åª½æˆ‘å¥½æƒ³è¦ä¸€å° Steam Deck&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;query_vector &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; model&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;encode&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;query_text&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tolist&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;search_result &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;query_points&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    collection_name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;collection_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    query&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;query_vector&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æœå°‹ç›¸ä¼¼åº¦æœ€é«˜çš„ 5 ç­†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    limit&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;56&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;points&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;57&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;58&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# é¡¯ç¤ºæœå°‹çµæœ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;59&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;--- é‡å°ã€Œ&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;query_text&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;ã€æœå°‹åˆ°å‰ &lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;search_result&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt; ç­†ç›¸é—œè³‡æ–™ ---&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;60&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; res &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;enumerate&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;search_result&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;61&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    content &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; res&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;payload&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;page_content&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;62&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    score &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; res&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;score&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;63&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;i&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;. [åˆ†æ•¸: &lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;score&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token format-spec&#34;&gt;.4f&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;] &lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;content&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;64&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;65&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åŸ·è¡Œçµæœ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;66&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# --- é‡å°ã€Œåª½åª½æˆ‘å¥½æƒ³è¦ä¸€å° Steam Deckã€æœå°‹åˆ°å‰ 5 ç­†ç›¸é—œè³‡æ–™ ---&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;67&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 1. [åˆ†æ•¸: 0.2213] ç­‰æ˜¥ç¯€ç‰¹è³£å«éš”å£ç‹å”å”è²·çµ¦ä½ &lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;68&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 2. [åˆ†æ•¸: 0.1929] ç‰›ä»”è¤²ç‰¹è³£æœƒåœ¨ä¸‹é€±æœ«èˆ‰è¡Œï¼Œåˆ¥å¿˜äº†å»çœ‹çœ‹ï¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;69&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 3. [åˆ†æ•¸: -0.0284] Python çš„è™›æ“¬ç’°å¢ƒå¯ä»¥é€é venv æ¨¡çµ„å»ºç«‹ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;70&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 4. [åˆ†æ•¸: -0.0446] Vector Database è² è²¬å„²å­˜é«˜ç¶­åº¦çš„å‘é‡æ•¸æ“šã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;71&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 5. [åˆ†æ•¸: -0.0561] EndeavourOS ä½¿ç”¨ pacman ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;div class=&#34;note info&#34;&gt;
&lt;ul&gt;
&lt;li&gt;é¤˜å¼¦ç›¸ä¼¼åº¦ï¼šæ•¸å€¼åœ¨ &lt;em&gt;&lt;strong&gt;-1 ~ 1&lt;/strong&gt;&lt;/em&gt; ä¹‹é–“ åˆ†æ•¸è¶Šé«˜è¶Šå¥½ï¼Œä»£è¡¨èªç¾©è¶Šæ¥è¿‘ã€‚å¯ä»¥èª¿æ•´ distance=Distance.COSINE ä¿®æ”¹æˆå…¶ä»–æ¼”ç®—æ³•ã€‚&lt;/li&gt;
&lt;li&gt;Vector db é¸å‹é ˆæ ¹æ“šä½¿ç”¨çš„ embed modelï¼Œéœ€è¦å¯ä»¥å„²å­˜è©² model ä½¿ç”¨çš„ç¶­åº¦&lt;/li&gt;
&lt;li&gt;å¯ä»¥å»ºç«‹ä¸åŒç¶­åº¦çš„ collection&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;details class=&#34;success&#34;&gt;&lt;summary&gt;Qdrant æœ‰ web ç•Œé¢&lt;/summary&gt;&lt;div&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;qdrant.png&#34; alt=&#34;Qdrant&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;h1 id=&#34;rag&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rag&#34;&gt;#&lt;/a&gt; RAG&lt;/h1&gt;
&lt;p&gt;è¦é€²è¡Œ RAG é‚„å·® LLM (Large Language Model), LLM å±¬æ–¼ RAG çš„ G (Generate), é€™é‚Šä½¿ç”¨ Ollama è¼‰å…¥ llama3&lt;/p&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;å®‰è£ä¾è³´å¥—ä»¶&lt;/summary&gt;&lt;div&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; langchain-huggingface langchain-qdrant langchain-ollama langchain-core&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;åœ¨ Arch Linux å®‰è£ Ollama&lt;/summary&gt;&lt;div&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;å®‰è£ Ollama&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yay &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; ollama-cuda&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl start ollama&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æª¢æŸ¥æ˜¯å¦å•Ÿç”¨æˆåŠŸ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl is-active ollama&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¼‰å…¥ llama3 æ¨¡å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ollama run llama3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/details&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;span&gt;RAG demo&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; os&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# é¡åƒåŠ é€Ÿï¼ˆå¦‚æœæ¨¡å‹å·²ä¸‹è¼‰å‰‡æœƒè‡ªå‹•è·³éï¼‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;os&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;environ&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;HF_ENDPOINT&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://hf-mirror.com&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_huggingface &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; HuggingFaceEmbeddings&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_qdrant &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; QdrantVectorStore&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_ollama &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; ChatOllama&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;prompts &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; ChatPromptTemplate&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;runnables &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; RunnablePassthrough&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; langchain_core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;output_parsers &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; StrOutputParser&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# çµ±ä¸€æ¨¡å‹åç¨±ï¼Œè¦è·Ÿå¯«å…¥ vector db æ™‚ä½¿ç”¨çš„æ¨¡å‹ä¸€è‡´&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EMBEDDING_MODEL_NAME &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;paraphrase-multilingual-MiniLM-L12-v2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;embeddings &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; HuggingFaceEmbeddings&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;model_name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;EMBEDDING_MODEL_NAME&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Retrieval - ç”¨æ–¼æª¢ç´¢çš„å‘é‡è³‡æ–™åº«&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;vector_store &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; QdrantVectorStore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;from_existing_collection&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    embedding&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;embeddings&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    collection_name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;multilingual_notes&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    url&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;http://127.0.0.1:6333&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Augmentation - å®šç¾©è©¢å• LLM çš„ prompt æ¨¡æ¿&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;template &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token triple-quoted-string string&#34;&gt;&#34;&#34;&#34;ä½ æ˜¯ä¸€å€‹åŸºæ–¼æœ¬åœ°çŸ¥è­˜åº«çš„ AI åŠ©æ‰‹ã€‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;è«‹æ ¹æ“šä»¥ä¸‹æä¾›çš„ã€Œåƒè€ƒè³‡æ–™ã€å›ç­”ã€Œå•é¡Œã€ã€‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;å¦‚æœåƒè€ƒè³‡æ–™ä¸­æ²’æœ‰ç›¸é—œç­”æ¡ˆï¼Œè«‹èª å¯¦å‘ŠçŸ¥ä½ ä¸çŸ¥é“ã€‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[åƒè€ƒè³‡æ–™]:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&amp;#123;context&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[å•é¡Œ]:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ç”¨ä¸­æ–‡å›ç­” `&amp;#123;question&amp;#125;`&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&#34;&#34;&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;prompt &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ChatPromptTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;from_template&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;template&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æª¢ç´¢è¨­å®šï¼Œæª¢ç´¢ç›¸ä¼¼åº¦æœ€é«˜çš„ 2 ç­†è³‡æ–™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;retriever &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; vector_store&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;as_retriever&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;search_kwargs&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ–‡æª”æ ¼å¼åŒ–å‡½æ•¸&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;format_docs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docs&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;\n&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;join&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;doc&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;page_content &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; doc &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; docs&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Generation - ä½¿ç”¨çš„ç”Ÿæˆæ¨¡å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;llm &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ChatOllama&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;model&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;llama3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; base_url&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;http://localhost:11434&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ§‹å»º RAG éˆï¼ŒåŸ·è¡Œï¼šæœå°‹ Qdrant -&gt; å¡«å…¥æ¨¡æ¿ -&gt; ä¸Ÿçµ¦ Llama3 -&gt; è¼¸å‡ºæ–‡å­—&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;rag_chain &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token string&#34;&gt;&#34;context&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; retriever &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; format_docs&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;      &lt;span class=&#34;token comment&#34;&gt;# å¾å‘é‡åº«æª¢ç´¢ä¸¦æ ¼å¼åŒ–æ–‡æª”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token string&#34;&gt;&#34;question&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; RunnablePassthrough&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;        &lt;span class=&#34;token comment&#34;&gt;# åŸæ¨£å‚³éç”¨æˆ¶å•é¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; RunnablePassthrough&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;assign&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# prompt - æ¥æ”¶ &amp;#123;context, question&amp;#125;ï¼Œç”Ÿæˆæ ¼å¼åŒ–çš„æç¤ºè©&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# llm - å°‡æç¤ºè©ç™¼é€çµ¦ Llama3 æ¨¡å‹ï¼Œå¾—åˆ° AI å›ç­”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;56&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# StrOutputParser () - å°‡ LLM çš„è¼¸å‡ºï¼ˆé€šå¸¸æ˜¯å€‹ AIMessage å°è±¡ï¼‰è½‰æ›æˆç´”æ–‡å­—å­—ç¬¦ä¸²&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;57&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# | æ˜¯ LangChain çš„ LCEL èªæ³•&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;58&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        answer&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;prompt &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; llm &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; StrOutputParser&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;59&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;60&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;61&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;62&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;63&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åŸ·è¡Œå°è©±æ¸¬è©¦&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;64&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; __name__ &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;__main__&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;65&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    query &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;EndeavourOS é©åˆä»€éº¼æ¨£çš„é–‹ç™¼è€…ï¼Ÿ&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;66&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;\næå•ï¼š&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;query&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;67&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;68&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# R - Retrievalï¼šå¾å‘é‡åº«æª¢ç´¢ç›¸é—œæ–‡æª”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;69&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;\n----------R Retrieval æª¢ç´¢éšæ®µ----------&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;70&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    docs &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; retriever&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;invoke&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;query&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;71&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    formatted_context &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; format_docs&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docs&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;72&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;æª¢ç´¢åˆ°çš„åƒè€ƒè³‡æ–™ï¼ˆ&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docs&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt; ç­†ï¼‰ï¼š\n&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;formatted_context&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;73&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;74&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# A - Augmentationï¼šå°‡æª¢ç´¢çµæœå¡«å…¥æç¤ºè©&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;75&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;\n----------A Augmentation å¢å¼·éšæ®µ----------&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;76&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    augmented_prompt &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; prompt&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;invoke&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;context&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; formatted_context&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;question&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; query&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;77&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;ç”Ÿæˆçš„æç¤ºè©ï¼š\n&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;augmented_prompt&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;to_string&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;78&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;79&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# G - Generationï¼šLLM ç”Ÿæˆå›ç­”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;80&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;\n----------G Generation ç”Ÿæˆéšæ®µ----------&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;81&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    result &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; rag_chain&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;invoke&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;query&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;82&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string-interpolation&#34;&gt;&lt;span class=&#34;token string&#34;&gt;f&#34;AI å›ç­”ï¼š\n&lt;/span&gt;&lt;span class=&#34;token interpolation&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;result&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;answer&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;83&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;84&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åŸ·è¡Œçµæœ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;85&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æå•ï¼šEndeavourOS é©åˆä»€éº¼æ¨£çš„é–‹ç™¼è€…ï¼Ÿ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;86&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;87&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ----------R Retrieval æª¢ç´¢éšæ®µ ----------&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;88&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æª¢ç´¢åˆ°çš„åƒè€ƒè³‡æ–™ï¼ˆ2 ç­†ï¼‰ï¼š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;89&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# EndeavourOS ä½¿ç”¨ pacman ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;90&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Python çš„è™›æ“¬ç’°å¢ƒå¯ä»¥é€é venv æ¨¡çµ„å»ºç«‹ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;91&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;92&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ----------A Augmentation å¢å¼·éšæ®µ ----------&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;93&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç”Ÿæˆçš„æç¤ºè©ï¼š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;94&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Human: ä½ æ˜¯ä¸€å€‹åŸºæ–¼æœ¬åœ°çŸ¥è­˜åº«çš„ AI åŠ©æ‰‹ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;95&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è«‹æ ¹æ“šä»¥ä¸‹æä¾›çš„ã€Œåƒè€ƒè³‡æ–™ã€å›ç­”ã€Œå•é¡Œã€ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;96&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¦‚æœåƒè€ƒè³‡æ–™ä¸­æ²’æœ‰ç›¸é—œç­”æ¡ˆï¼Œè«‹èª å¯¦å‘ŠçŸ¥ä½ ä¸çŸ¥é“ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;97&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;98&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# [åƒè€ƒè³‡æ–™]:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;99&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# EndeavourOS ä½¿ç”¨ pacman ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;100&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Python çš„è™›æ“¬ç’°å¢ƒå¯ä»¥é€é venv æ¨¡çµ„å»ºç«‹ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;101&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;102&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# [å•é¡Œ]:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;103&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç”¨ä¸­æ–‡å›ç­” `EndeavourOS é©åˆä»€éº¼æ¨£çš„é–‹ç™¼è€…ï¼Ÿ`&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;104&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;105&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ----------G Generation ç”Ÿæˆéšæ®µ ----------&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;106&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# AI å›ç­”ï¼š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;107&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ ¹æ“šæä¾›çš„åƒè€ƒè³‡æ–™ï¼ŒEndeavourOS ä½¿ç”¨ pacman ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ã€‚å› æ­¤ï¼Œæˆ‘å€‘å¯ä»¥çŸ¥é“ EndeavourOS æ˜¯ä¸€ç¨® Linux ç™¼è¡Œç‰ˆã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;108&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# çµè«–ï¼šEndeavourOS é€‚åˆ Linux é–‹ç™¼è€…çš„éœ€æ±‚ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;div class=&#34;note info&#34;&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåŸæœ¬ç”¨ A æ¨¡å‹å»ºç«‹çš„ db å¾Œä¾†æƒ³æ”¹ B æ¨¡å‹æ€éº¼è¾¦ï¼Ÿè¦é€²è¡Œ Re-indexing&lt;/li&gt;
&lt;li&gt;å¾ŒçºŒå¯ä»¥å¢åŠ é¿å…å¹»è¦ºæ©Ÿåˆ¶ï¼Œç›¸ä¼¼åº¦é–¥å€¼åˆ¤å®šï¼Œåƒè€ƒè³‡æ–™ä¸è¶³è™•ç†æ©Ÿåˆ¶ç­‰ç­‰...&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2025/12/21/deploy-docker-nginx/</guid>
            <title>å¤šæœå‹™ Docker éƒ¨ç½²èˆ‡ Nginx è¨­å®šç­†è¨˜</title>
            <link>https://8loser.github.io/2025/12/21/deploy-docker-nginx/</link>
            <category term="Deploy" scheme="https://8loser.github.io/categories/Deploy/" />
            <category term="GCP" scheme="https://8loser.github.io/tags/GCP/" />
            <category term="Nginx" scheme="https://8loser.github.io/tags/Nginx/" />
            <category term="log" scheme="https://8loser.github.io/tags/log/" />
            <category term="Docker" scheme="https://8loser.github.io/tags/Docker/" />
            <category term="Deploy" scheme="https://8loser.github.io/tags/Deploy/" />
            <pubDate>Sun, 21 Dec 2025 08:58:03 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;æ–‡ç« èªªæ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–‡ç« èªªæ˜&#34;&gt;#&lt;/a&gt; æ–‡ç« èªªæ˜&lt;/h1&gt;
&lt;p&gt;é€™æ˜¯å°‡æœå‹™éƒ¨ç½²åˆ°é›²ç«¯çš„å°ˆæ¡ˆã€‚&lt;br /&gt;
VM å»ºç«‹å¥½å¾Œï¼Œå°‡å°ˆæ¡ˆ pull åˆ°  &lt;code&gt;/opt&lt;/code&gt;  ä¸‹å³å¯å¿«é€Ÿéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;p&gt;æ¯å€‹æœå‹™ç¨‹å¼ç¢¼ç”± GitHub è¨—ç®¡ï¼Œä¸¦è¨­ç½®è‡ªå‹•æ‰“åŒ…æˆ Docker imageã€‚&lt;br /&gt;
æ©Ÿå™¨å®‰è£ Dockerï¼Œéƒ¨ç½²æ™‚ pull Docker image å•Ÿå‹•å¤šå€‹æœå‹™ containerã€‚&lt;br /&gt;
ç”± Nginx æ§åˆ¶è«‹æ±‚é€²å…¥æœå‹™ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹&#34;&gt;#&lt;/a&gt; å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹&lt;/h1&gt;
&lt;figure class=&#34;highlight text&#34;&gt;&lt;figcaption data-lang=&#34;text&#34;&gt;&lt;span&gt;è³‡æ–™å¤¾çµæ§‹&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ init.sh                # æ©Ÿå™¨åˆå§‹åŒ–&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ prod&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ docker-compose.yml # æ­£å¼ç«™ Docker Swarm Stack è¨­å®š&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ nginx.conf         # æ­£å¼ç«™ Nginx è¨­å®š&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ start-prod.sh          # å•Ÿå‹•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â””â”€â”€ stop-prod.sh           # åœæ­¢&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é¦–å…ˆåŸ·è¡Œ  &lt;code&gt;init.sh&lt;/code&gt;  æ›´æ–°ç³»çµ±ã€å®‰è£å¸¸ç”¨ç¨‹å¼ï¼Œåƒè€ƒ &lt;a href=&#34;/2023/01/04/gcp-init/&#34;&gt;GCP VM å»ºç½®ç­†è¨˜&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;start-prodsh&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#start-prodsh&#34;&gt;#&lt;/a&gt; &lt;a href=&#34;http://start-prod.sh&#34;&gt;start-prod.sh&lt;/a&gt;&lt;/h1&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;span&gt;start-prod.sh&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/sh&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å•Ÿå‹•æ­£å¼ç«™ container&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; stack deploy --compose-file prod/docker-compose.yml --with-registry-auth company&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€™é‚Šæ²’ä»€éº¼å¥½ä»‹ç´¹çš„ï¼Œå°±æ˜¯ç”¨  &lt;code&gt;docker stack deploy&lt;/code&gt;  å•Ÿå‹• Docker Swarm Stackã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--with-registry-auth&lt;/code&gt;  æœƒæŠŠæœ¬æ©Ÿ  &lt;code&gt;docker login&lt;/code&gt;  çš„ registry èªè­‰ä¸€ä½µå‚³çµ¦ Swarm ç¯€é»ï¼Œ&lt;br /&gt;
è®“ç¯€é»åœ¨æ‹‰ç§æœ‰ image æ™‚èƒ½é †åˆ©é€šéæˆæ¬Šï¼›ä¸åŠ çš„è©±ï¼Œç§æœ‰å€‰åº«å¸¸æœƒå‡ºç¾æ‹‰ä¸åˆ° image çš„éŒ¯èª¤ã€‚&lt;/p&gt;
&lt;h1 id=&#34;docker-composeyml&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-composeyml&#34;&gt;#&lt;/a&gt; docker-compose.yml&lt;/h1&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;prod/docker-compose.yml&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ­£å¼ç«™ container&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;3.8&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; nginx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; unless&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;stopped&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;# Nginx è¨­å®šæª”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; ./nginx.conf&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;/etc/nginx/conf.d/default.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Asia/Taipei&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;published&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; tcp&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;mode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; host&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å¾Œç«¯ API&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;backend&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; ghcr.io/8loser/backend&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;main&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; unless&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;stopped&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Asia/Taipei&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å‰ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;frontend&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; ghcr.io/8loser/frontend&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;main&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; unless&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;stopped&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Asia/Taipei&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;èªªæ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰ 3 å€‹æœå‹™ï¼›Nginxã€frontendã€backendã€‚&lt;/li&gt;
&lt;li&gt;Nginx ä¸ç”¨  &lt;code&gt;depends_on backend, frontend&lt;/code&gt;  é¿å…æŸå€‹æœå‹™ç•°å¸¸å°è‡´ Nginx è¢«ç‰½é€£åœæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;Nginx  &lt;code&gt;mode: host&lt;/code&gt;  ç›´æ¥ç”¨ä¸»æ©Ÿ 80 å°å¤–æä¾›æœå‹™ï¼ŒLoad Balancer æµé‡å°å…¥ Nginx 80 portï¼Œåƒ…æœ‰è·‘è©²æœå‹™çš„ç¯€é»æœƒé–‹ 80ã€‚&lt;/li&gt;
&lt;li&gt;Nginx è¨­å®šæª”ç›´æ¥æ›è¼‰  &lt;code&gt;prod/nginx.conf&lt;/code&gt;  æª”æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;Stack æœƒä½¿ç”¨ Swarm overlay networkï¼Œ &lt;code&gt;proxy_pass http://frontend/&lt;/code&gt;  èˆ‡  &lt;code&gt;proxy_pass http://backend/&lt;/code&gt;  æœƒè§£æåˆ°åŒä¸€å€‹ Stack çš„ serviceã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ghcr.io&lt;/code&gt;  æ˜¯ GitHub Container Registryï¼Œç”¨æ–¼å­˜æ”¾ Docker imageã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;nginxconf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nginxconf&#34;&gt;#&lt;/a&gt; nginx.conf&lt;/h1&gt;
&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;figcaption data-lang=&#34;nginx&#34;&gt;&lt;span&gt;prod/nginx.conf&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ­£å¼ç«™ Nginx&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# é è¨­ server; ä½¿ç”¨ IP æˆ–æœªåŒ¹é…çš„åŸŸåéƒ½æœƒé€²å…¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server_name&lt;/span&gt; _&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# ä¸åˆæ³• Host è¨ªå• /ï¼Œä¸è¿”å›å…§å®¹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;204&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å…è¨±çš„åŸŸå&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server_name&lt;/span&gt; www.*******.com *******.com&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# Load Balancer Public IP address&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; &amp;lt;LB_IP&gt;/32&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# å¡«å…¥ä½ çš„ LB IP&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# Google CIDR ç¶²æ®µ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; 130.211.0.0/22&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; 35.191.0.0/16&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;real_ip_header&lt;/span&gt; X-Forwarded-For&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;real_ip_recursive&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# é˜»æ“‹çš„ User Agent&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;token variable&#34;&gt;$http_user_agent&lt;/span&gt; ~* &lt;span class=&#34;token string&#34;&gt;&#34;ApacheBench|pingback|YisouSpider|MJ12bot|AhrefsBot|360JK|Jorgee|FeedDemon|BOT/0.1 (BOT for JCE)|CrawlDaddy|Java|Jullo|Feedly|UniversalFeedParser|Swiftbot|YandexBot|jikeSpider|ZmEu phpmyadmin|WinHttp|EasouSpider|HttpClient|Microsoft URL Control|YYSpider|jaunty|oBot|Python-urllib|Indy Library|FlightDeckReports Bot|Linguee Bot&#34;&lt;/span&gt; )&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;return &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;101&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# æ­£å¼ç«™è¨­å®š robots.txt å…è¨±çˆ¬èŸ²&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; = /robots.txt&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;add_header&lt;/span&gt; Content-Type text/plain&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;User-agent: *&lt;span class=&#34;token escape entity&#34;&gt;\n&lt;/span&gt;Allow: /&lt;span class=&#34;token escape entity&#34;&gt;\n&lt;/span&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å‰ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_pass&lt;/span&gt; http://frontend/&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; Host &lt;span class=&#34;token variable&#34;&gt;$host&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Real-IP &lt;span class=&#34;token variable&#34;&gt;$remote_addr&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Forwarded-For &lt;span class=&#34;token variable&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Custom-Referrer smc_identity_layer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å¾Œç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /api/&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_pass&lt;/span&gt; http://backend/&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; Host &lt;span class=&#34;token variable&#34;&gt;$host&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Real-IP &lt;span class=&#34;token variable&#34;&gt;$remote_addr&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Forwarded-For &lt;span class=&#34;token variable&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Custom-Referrer smc_identity_layer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;èªªæ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é è¨­ server ç”¨æ–¼æ””æˆªæœªåŒ¹é…çš„ Hostï¼Œç›´æ¥å› 204ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/&lt;/code&gt;  èµ° frontendã€ &lt;code&gt;/api/&lt;/code&gt;  èµ° backendï¼Œä½¿ç”¨  &lt;code&gt;proxy_pass&lt;/code&gt;  è½‰ç™¼è«‹æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set_real_ip_from&lt;/code&gt;  ç”¨ä¾†é™å®šå¯ä¿¡ä»»çš„è½‰ç™¼ä¾†æºï¼ˆLB èˆ‡ Google CIDRï¼‰ï¼Œæ‰èƒ½æ­£ç¢ºé‚„åŸ client IPï¼Œé¿å…è¢«å½é€ çš„  &lt;code&gt;X-Forwarded-For&lt;/code&gt;  å½±éŸ¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proxy_pass http://backend/&lt;/code&gt;  çš„  &lt;code&gt;backend&lt;/code&gt;  å°æ‡‰  &lt;code&gt;docker-compose.yml&lt;/code&gt;  çš„ service åç¨±ã€‚&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2025/06/23/node-usb-relay/</guid>
            <title>Node.JS æ§åˆ¶ USB ç¹¼é›»å™¨</title>
            <link>https://8loser.github.io/2025/06/23/node-usb-relay/</link>
            <category term="Node.js" scheme="https://8loser.github.io/tags/Node-js/" />
            <category term="USB Relay" scheme="https://8loser.github.io/tags/USB-Relay/" />
            <pubDate>Mon, 23 Jun 2025 14:36:42 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;usb-relay&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#usb-relay&#34;&gt;#&lt;/a&gt; USB Relay&lt;/h1&gt;
&lt;p&gt;USB relay æ¨¡çµ„å°±æ˜¯é€™å€‹ï¼Œé è¨ˆç”¨ Node.js ç¨‹å¼è¼¸å‡ºé›»æ°£è¨Šè™Ÿæ§åˆ¶æ©Ÿæ¢°æ‰‹è‡‚ï¼Œé€™å€‹æ˜¯å…©è·¯çš„ï¼ˆå…©å€‹ relayï¼‰ï¼Œé‚„æœ‰ä¸€è·¯æˆ–è€…æ›´å¤šè·¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;USB-relay.png&#34; alt=&#34;USB Relay&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¼¸å‡ºæ¥é»è·Ÿä¸€èˆ¬ç¹¼é›»å™¨çš„æ¥é»ä¸€æ¨£&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç«¯é»&lt;/th&gt;
&lt;th&gt;å…¨å&lt;/th&gt;
&lt;th&gt;åŠŸèƒ½æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;COM&lt;/td&gt;
&lt;td&gt;Commonï¼ˆå…±ç”¨ç«¯ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸­å¿ƒç«¯é»ï¼Œæ ¹æ“šæ§åˆ¶æƒ…æ³èˆ‡ NC æˆ– NO æ¥é€š&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NC&lt;/td&gt;
&lt;td&gt;Normally Closedï¼ˆå¸¸é–‰ï¼‰&lt;/td&gt;
&lt;td&gt;åœ¨  &lt;code&gt;æœªé€šé›»&lt;/code&gt;  ç‹€æ…‹ä¸‹ï¼Œ &lt;code&gt;èˆ‡ COM æ¥é€š&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NO&lt;/td&gt;
&lt;td&gt;Normally Openï¼ˆå¸¸é–‹ï¼‰&lt;/td&gt;
&lt;td&gt;åœ¨  &lt;code&gt;æœªé€šé›»&lt;/code&gt;  ç‹€æ…‹ä¸‹ï¼Œ &lt;code&gt;èˆ‡ COM æ–·é–‹&lt;/code&gt; ï¼Œé€šé›»å¾Œæ‰æ¥é€š&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ¥ç·šæ–¹å¼ä½¿ç”¨ USB-A è½‰ USB-Bï¼ŒUSB-A æ¥é›»è…¦ï¼ŒUSB-B æ¥æ¨¡çµ„&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;USB-A-to-USB-B.png&#34; alt=&#34;USB-A to USB-B&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç¨‹å¼æ¸¬è©¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¨‹å¼æ¸¬è©¦&#34;&gt;#&lt;/a&gt; ç¨‹å¼æ¸¬è©¦&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ &lt;a href=&#34;https://www.npmjs.com/package/node-hid&#34;&gt;node-hid&lt;/a&gt; å¥—ä»¶ï¼Œè«‹å…ˆç¢ºå®šä½¿ç”¨çš„æ¨¡çµ„æ”¯æ´ HID&lt;/p&gt;
&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;figcaption data-lang=&#34;javascript&#34;&gt;&lt;span&gt;ç¹¼é›»å™¨æ§åˆ¶&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;HID&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;node-hid&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// å°‹æ‰¾é€£æ¥è£ç½®ä¸­ USBRelay åç¨±çš„è£ç½®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; deviceList &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;HID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; connectedRelays &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; deviceList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;product &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;product&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;USBRelay&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!==&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; device &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HID&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;HID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;connectedRelays&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;path&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// å•Ÿå‹•ç¬¬ä¸€å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x01&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// å•Ÿå‹•ç¬¬äºŒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x02&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// é—œé–‰ç¬¬ä¸€å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x01&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// é—œé–‰ç¬¬äºŒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x02&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœæ­£å¸¸å•Ÿå‹•ç¹¼é›»å™¨æ™‚ï¼Œæ¨¡çµ„ä¸Šå°æ‡‰çš„ç¹¼é›»å™¨æ— LED æœƒäº®&lt;/p&gt;
&lt;h1 id=&#34;è¨­å®š-bytes-èªªæ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¨­å®š-bytes-èªªæ˜&#34;&gt;#&lt;/a&gt; è¨­å®š Bytes èªªæ˜&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Byte ä½ç½®&lt;/th&gt;
&lt;th&gt;èªªæ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;å‘½ä»¤æ¨™é ­ï¼ˆé€šå¸¸æ˜¯å›ºå®šå€¼ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;æ§åˆ¶å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;è¦æ§åˆ¶çš„ç¹¼é›»å™¨ä½å…ƒçµ„ï¼ˆbitmaskï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3~8&lt;/td&gt;
&lt;td&gt;å……å¡«ä½å…ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;ç¨‹å¼è¨­è¨ˆæ€è·¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¨‹å¼è¨­è¨ˆæ€è·¯&#34;&gt;#&lt;/a&gt; ç¨‹å¼è¨­è¨ˆæ€è·¯&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ class&lt;/li&gt;
&lt;li&gt;constructor é€²è¡Œ init, å¯æŒ‡å®š device path æˆ–è‡ªå‹•æœå°‹&lt;/li&gt;
&lt;li&gt;æ¯å€‹ relay on/off ä½¿ç”¨çš„ bytes ç”¨ list å„²å­˜&lt;/li&gt;
&lt;li&gt;setOff(channelNumber), setOn(channelNumber)&lt;/li&gt;
&lt;li&gt;æ ¹æ“šæ©Ÿæ¢°æ‰‹è‡‚å‹•ä½œå®šç¾©ï¼ŒActionOK (), ActionNG ()&lt;/li&gt;
&lt;li&gt;åˆ‡ç‚º on ä¹‹å¾Œå¤šä¹…å¾©æ­¸åŸç‹€æ…‹å¯èª¿æ•´&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;éƒ¨ä»½ç¨‹å¼ç¢¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éƒ¨ä»½ç¨‹å¼ç¢¼&#34;&gt;#&lt;/a&gt; éƒ¨ä»½ç¨‹å¼ç¢¼&lt;/h1&gt;
&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;figcaption data-lang=&#34;javascript&#34;&gt;&lt;span&gt;setOn()&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// å•Ÿå‹•ç¬¬å¹¾å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;setOn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; commandList &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// all&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸€å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x01&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬äºŒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x02&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸‰å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x03&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å››å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x04&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬äº”å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x05&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å…­å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x06&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸ƒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x07&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å…«å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x08&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;commandList&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;number&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;figcaption data-lang=&#34;javascript&#34;&gt;&lt;span&gt;setOff()&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// é—œé–‰ç¬¬å¹¾å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;setOff&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; commandList &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// all&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFC&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸€å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x01&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬äºŒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x02&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸‰å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x03&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å››å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x04&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬äº”å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x05&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å…­å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x06&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬ä¸ƒå€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x07&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¬¬å…«å€‹ relay&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0xFD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x08&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0x00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;device&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendFeatureReport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;commandList&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;number&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;figcaption data-lang=&#34;javascript&#34;&gt;&lt;span&gt;ActionOK()&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;ActionOK&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//relay 1 ä½œç‚º OK è¨Šè™Ÿ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setOn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;figcaption data-lang=&#34;javascript&#34;&gt;&lt;span&gt;ActionNG()&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;ActionNG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//relay 2 ä½œç‚º NG è¨Šè™Ÿ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setOn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å‚™è¨»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚™è¨»&#34;&gt;#&lt;/a&gt; å‚™è¨»&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨æ„è¼¸å‡ºæ§åˆ¶å¯æ‰¿å—è² è¼‰ç¯„åœï¼Œé€šå¸¸åœ¨ç¹¼é›»å™¨ä¸Šæœƒæ¨™ç¤º&lt;/li&gt;
&lt;li&gt;éœ€è¦ HID æ”¯æ´çš„æ¨¡çµ„&lt;/li&gt;
&lt;li&gt;åƒè€ƒ &lt;a href=&#34;https://github.com/josephdadams/USBRelay&#34;&gt;https://github.com/josephdadams/USBRelay&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ¨¡çµ„ç”± USB ä¾›é›»ï¼Œæ‹”æ‰å¾Œ relay ç‹€æ…‹æœƒé‡ç½®&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2024/11/08/gcp-mutual-tls/</guid>
            <title>GCP mTLS(mutual TLS) æ†‘è­‰è¨­å®š</title>
            <link>https://8loser.github.io/2024/11/08/gcp-mutual-tls/</link>
            <category term="Step By Step" scheme="https://8loser.github.io/categories/Step-By-Step/" />
            <category term="GCP" scheme="https://8loser.github.io/tags/GCP/" />
            <category term="mutual TLS" scheme="https://8loser.github.io/tags/mutual-TLS/" />
            <category term="æ†‘è­‰" scheme="https://8loser.github.io/tags/%E6%86%91%E8%AD%89/" />
            <category term="SSL" scheme="https://8loser.github.io/tags/SSL/" />
            <pubDate>Fri, 08 Nov 2024 23:38:07 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ç·£ç”±&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç·£ç”±&#34;&gt;#&lt;/a&gt; ç·£ç”±&lt;/h1&gt;
&lt;p&gt;æœ‰ä¸€ç¶²ç«™éœ€è¦é™åˆ¶åªæœ‰ç‰¹å®šäººå“¡æ‰å¯ç€è¦½ï¼Œé€šå¸¸æœƒä½¿ç”¨ä¾†æº IP é€²è¡Œé™åˆ¶ï¼Œè‹¥æ˜¯ç„¡å›ºå®šè¾¦å…¬å®¤äººå“¡ï¼ˆæ¥­å‹™ï¼‰å‰‡ä½¿ç”¨ VPN é€£å…¥å…¬å¸ç¶²è·¯ç²å¾—å…è¨± IPã€‚&lt;/p&gt;
&lt;p&gt;ä½†å› ç‚ºå…¬å¸æ²’æœ‰è‡ªå·±çš„ç¶²è·¯ï¼Œæ‰€ä»¥æ²’è¾¦æ³•ä½¿ç”¨é€™å€‹æ–¹æ³•ï¼Œå› æ­¤æ¡ç”¨ mTLSã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬ç¶²ç«™æ†‘è­‰åªæ˜¯å–®å‘ç”¨æ–¼é©—è­‰ç¶²ç«™æ˜¯å¦åˆæ³•ï¼ŒmTLS å‰‡æ˜¯é›™å‘é©—è­‰ &lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;é›™å‘å¥”èµ´çš„æ†‘è­‰&lt;/span&gt;ï¼Œé™¤äº†é©—è­‰ç¶²ç«™æ˜¯å¦åˆæ³•å¤–ï¼Œä¹Ÿé©—è­‰é€£æ¥ç«¯ (client, browser) æ˜¯å¦åˆæ³•ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡ä»¶å…¶å¯¦æœ‰æ•™å­¸ (&lt;a href=&#34;https://cloud.google.com/load-balancing/docs/https/setting-up-mtls-ccm&#34;&gt;Set up mutual TLS with user-provided certificates&lt;/a&gt;)ï¼Œä½†æ˜¯å®˜æ–¹æ–‡ä»¶éƒ½æ˜¯é€é gcloud è¨­å®šï¼Œæ‰€ä»¥é€™ç¯‡ç´€éŒ„ä¸€ä¸‹æ€éº¼ä½¿ç”¨ GUI æ–¹å¼è¨­å®šã€‚&lt;/p&gt;
&lt;p&gt;æ€è·¯ï¼šå¾ load balance ä¸‹æ‰‹ï¼Œåœ¨ load balance é€²è¡Œé©—è­‰ï¼Œclient åˆæ³•æ‰å°å…¥å¾Œç«¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;éœ€æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éœ€æ±‚&#34;&gt;#&lt;/a&gt; éœ€æ±‚&lt;/h1&gt;
&lt;p&gt;å…ˆå®‰è£ openssl ç”¨æ–¼ç”¢ç”Ÿæ†‘è­‰&lt;/p&gt;
&lt;h1 id=&#34;ç”¢ç”Ÿæ ¹æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¢ç”Ÿæ ¹æ†‘è­‰&#34;&gt;#&lt;/a&gt; ç”¢ç”Ÿæ ¹æ†‘è­‰&lt;/h1&gt;
&lt;h2 id=&#34;æ†‘è­‰è¨­å®šæª”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ†‘è­‰è¨­å®šæª”&#34;&gt;#&lt;/a&gt; æ†‘è­‰è¨­å®šæª”&lt;/h2&gt;
&lt;p&gt;å»ºç«‹æ†‘è­‰è¨­å®šæª”  &lt;code&gt;example.cnf&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight text&#34;&gt;&lt;figcaption data-lang=&#34;text&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[req]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;distinguished_name = empty_distinguished_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[empty_distinguished_name]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# Kept empty to allow setting via -subj command line arg.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[ca_exts]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;basicConstraints=critical,CA:TRUE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;keyUsage=keyCertSign&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;extendedKeyUsage=clientAuth&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;æ ¹æ†‘è­‰èˆ‡å¯†é‘°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ ¹æ†‘è­‰èˆ‡å¯†é‘°&#34;&gt;#&lt;/a&gt; æ ¹æ†‘è­‰èˆ‡å¯†é‘°&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ openssl ç”¢ç”Ÿæ ¹æ†‘è­‰å¯†é‘°  &lt;code&gt;root.key&lt;/code&gt;  èˆ‡æ ¹æ†‘è­‰  &lt;code&gt;root.cert&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl req &lt;span class=&#34;token parameter variable&#34;&gt;-x509&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-new&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sha256&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-newkey&lt;/span&gt; rsa:2048 &lt;span class=&#34;token parameter variable&#34;&gt;-nodes&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-days&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3650&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-subj&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;/CN=root&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-config&lt;/span&gt; example.cnf &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-extensions&lt;/span&gt; ca_exts &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-keyout&lt;/span&gt; root.key &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; root.cert&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç”¢ç”Ÿä¸­ç¹¼æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¢ç”Ÿä¸­ç¹¼æ†‘è­‰&#34;&gt;#&lt;/a&gt; ç”¢ç”Ÿä¸­ç¹¼æ†‘è­‰&lt;/h1&gt;
&lt;h2 id=&#34;ä¸­ç¹¼æ†‘è­‰ç°½åè«‹æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸­ç¹¼æ†‘è­‰ç°½åè«‹æ±‚&#34;&gt;#&lt;/a&gt; ä¸­ç¹¼æ†‘è­‰ç°½åè«‹æ±‚&lt;/h2&gt;
&lt;p&gt;ç”¢ç”Ÿä¸­ç¹¼æ†‘è­‰å¯†é‘°  &lt;code&gt;int.key&lt;/code&gt;  è·Ÿä¸­ç¹¼æ†‘è­‰ç°½åè«‹æ±‚  &lt;code&gt;int.req&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl req &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-new&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sha256&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-newkey&lt;/span&gt; rsa:2048 &lt;span class=&#34;token parameter variable&#34;&gt;-nodes&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-subj&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;/CN=int&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-config&lt;/span&gt; example.cnf &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-extensions&lt;/span&gt; ca_exts &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-keyout&lt;/span&gt; int.key &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; int.req&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ä¸­ç¹¼æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸­ç¹¼æ†‘è­‰&#34;&gt;#&lt;/a&gt; ä¸­ç¹¼æ†‘è­‰&lt;/h2&gt;
&lt;p&gt;ç”¢ç”Ÿä¸­ç¹¼æ†‘è­‰  &lt;code&gt;int.cert&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl x509 &lt;span class=&#34;token parameter variable&#34;&gt;-req&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-CAkey&lt;/span&gt; root.key &lt;span class=&#34;token parameter variable&#34;&gt;-CA&lt;/span&gt; root.cert &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-set_serial&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-days&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3650&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-extfile&lt;/span&gt; example.cnf &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-extensions&lt;/span&gt; ca_exts &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;-in&lt;/span&gt; int.req &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; int.cert&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å»ºç«‹ä¿¡ä»»è¨­å®š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹ä¿¡ä»»è¨­å®š&#34;&gt;#&lt;/a&gt; å»ºç«‹ä¿¡ä»»è¨­å®š&lt;/h1&gt;
&lt;p&gt;å¾ &lt;a href=&#34;https://console.cloud.google.com/security/ccm/list/trustConfigs&#34;&gt;https://console.cloud.google.com/security/ccm/list/trustConfigs&lt;/a&gt; å»ºç«‹ä¿¡ä»»è¨­å®š&lt;br /&gt;
æŠŠå‰é¢æ­¥é©Ÿç”¢ç”Ÿçš„  &lt;code&gt;root.cert&lt;/code&gt;  å…§å®¹å¢åŠ åˆ°ä¿¡ä»»éŒ¨é»ã€ &lt;code&gt;int.cert&lt;/code&gt;  å…§å®¹å¢åŠ åˆ°ä¸­ç¹¼ CAã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;trust-config.jpg&#34; alt=&#34;ä¿¡ä»»è¨­å®š&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;å»ºç«‹ç”¨æˆ¶ç«¯é©—è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹ç”¨æˆ¶ç«¯é©—è­‰&#34;&gt;#&lt;/a&gt; å»ºç«‹ç”¨æˆ¶ç«¯é©—è­‰&lt;/h1&gt;
&lt;p&gt;å¾ &lt;a href=&#34;https://console.cloud.google.com/net-security/clientauth/serverTlsPolicies&#34;&gt;https://console.cloud.google.com/net-security/clientauth/serverTlsPolicies&lt;/a&gt; å»ºç«‹ç”¨æˆ¶ç«¯é©—è­‰&lt;br /&gt;
ç”¨æˆ¶ç«¯é©—è­‰æ¨¡å¼é¸æ“‡  &lt;code&gt;è² è¼‰å¹³è¡¡&lt;/code&gt;  ä»¥åŠ  &lt;code&gt;æ‹’çµ•ç„¡æ•ˆçš„ç”¨æˆ¶æ†‘è­‰&lt;/code&gt; ï¼Œä¿¡ä»»è¨­å®šé¸å–å‰ä¸€æ­¥é©Ÿå»ºç«‹çš„è¨­å®šæª”ã€‚&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;client-auth.jpg&#34; alt=&#34;ç”¨æˆ¶ç«¯é©—è­‰&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;è² è¼‰å¹³è¡¡è¨­å®š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è² è¼‰å¹³è¡¡è¨­å®š&#34;&gt;#&lt;/a&gt; è² è¼‰å¹³è¡¡è¨­å®š&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://console.cloud.google.com/net-services/loadbalancing/list/loadBalancers&#34;&gt;https://console.cloud.google.com/net-services/loadbalancing/list/loadBalancers&lt;/a&gt;&lt;br /&gt;
 åœ¨è² è¼‰å¹³è¡¡çš„å‰ç«¯è¨­å®šè™•ï¼Œé¸å–å‰›å»ºç«‹çš„ç”¨æˆ¶ç«¯é©—è­‰ï¼Œå¯èƒ½ä¸æœƒé¦¬ä¸Šç”Ÿæ•ˆï¼Œå¦‚æœç”Ÿæ•ˆå¾Œé–‹å•Ÿç¶²å€æœƒæ˜¯  &lt;code&gt;ERR_CONNECTION_CLOSED&lt;/code&gt;  çš„è¨Šæ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;load-balance.jpg&#34; alt=&#34;è² è¼‰å¹³è¡¡&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;å»ºç«‹ç”¨æˆ¶ç«¯æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹ç”¨æˆ¶ç«¯æ†‘è­‰&#34;&gt;#&lt;/a&gt; å»ºç«‹ç”¨æˆ¶ç«¯æ†‘è­‰&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æˆ¶ç«¯è¨­å®šæª”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¨æˆ¶ç«¯è¨­å®šæª”&#34;&gt;#&lt;/a&gt; ç”¨æˆ¶ç«¯è¨­å®šæª”&lt;/h2&gt;
&lt;p&gt;å»ºç«‹ç”¨æˆ¶ç«¯è¨­å®šæª”  &lt;code&gt;client.config&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight text&#34;&gt;&lt;figcaption data-lang=&#34;text&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[req]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;default_bits              = 2048&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;req_extensions            = extension_requirements&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;distinguished_name        = dn_requirements&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;prompt                    = no&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[extension_requirements]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;basicConstraints          = critical, CA:FALSE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;keyUsage                  = critical, nonRepudiation, digitalSignature, keyEncipherment&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;extendedKeyUsage          = clientAuth&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[dn_requirements]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;countryName               = US&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;stateOrProvinceName       = California&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;localityName              = San Francisco&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;0.organizationName        = example&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;organizationalUnitName    = test&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;commonName                = test.example.com&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;emailAddress              = test@example.com&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ç”¢ç”Ÿç”¨æˆ¶å¯†é‘°èˆ‡ç°½åè«‹æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¢ç”Ÿç”¨æˆ¶å¯†é‘°èˆ‡ç°½åè«‹æ±‚&#34;&gt;#&lt;/a&gt; ç”¢ç”Ÿç”¨æˆ¶å¯†é‘°èˆ‡ç°½åè«‹æ±‚&lt;/h2&gt;
&lt;p&gt;æœƒç”¢ç”Ÿ  &lt;code&gt;client.key&lt;/code&gt; ,  &lt;code&gt;client.csr&lt;/code&gt; ã€‚é€™é‚Šæœƒè©¢å•é‡‘é‘°å¯†ç¢¼ï¼Œå¾Œé¢åŒ¯å‡ºæ™‚æœƒç”¨åˆ°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl req &lt;span class=&#34;token parameter variable&#34;&gt;-new&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-keyout&lt;/span&gt; client.key &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; client.csr &lt;span class=&#34;token parameter variable&#34;&gt;-config&lt;/span&gt; client.config&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ç”¢ç”Ÿç”¨æˆ¶ç«¯æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¢ç”Ÿç”¨æˆ¶ç«¯æ†‘è­‰&#34;&gt;#&lt;/a&gt; ç”¢ç”Ÿç”¨æˆ¶ç«¯æ†‘è­‰&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;int.cert&lt;/code&gt; ã€ &lt;code&gt;int.key&lt;/code&gt; ã€ &lt;code&gt;client.csr&lt;/code&gt;  ç”¢ç”Ÿç”¨æˆ¶ç«¯æ†‘è­‰  &lt;code&gt;client.cert&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl x509 &lt;span class=&#34;token parameter variable&#34;&gt;-req&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-in&lt;/span&gt; client.csr &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; client.cert &lt;span class=&#34;token parameter variable&#34;&gt;-extfile&lt;/span&gt; client.config &lt;span class=&#34;token parameter variable&#34;&gt;-extensions&lt;/span&gt; extension_requirements &lt;span class=&#34;token parameter variable&#34;&gt;-days&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;365&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-CA&lt;/span&gt; int.cert &lt;span class=&#34;token parameter variable&#34;&gt;-CAkey&lt;/span&gt; int.key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ¸¬è©¦&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-k&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--key&lt;/span&gt; client.key &lt;span class=&#34;token parameter variable&#34;&gt;--cert&lt;/span&gt; client.cert https://ç¶²å€&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç€è¦½å™¨åŒ¯å…¥æ†‘è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç€è¦½å™¨åŒ¯å…¥æ†‘è­‰&#34;&gt;#&lt;/a&gt; ç€è¦½å™¨åŒ¯å…¥æ†‘è­‰&lt;/h1&gt;
&lt;p&gt;server ç«¯å¤§è‡´ä¸Šè¨­ç½®å®Œæˆï¼Œé‚„éœ€è¨­å®š client ç«¯ï¼Œclient åŒ¯å…¥æ†‘è­‰é€™é‚Šä½¿ç”¨  &lt;code&gt;PKCS #12&lt;/code&gt;  æ ¼å¼ã€‚&lt;br /&gt;
é¦–å…ˆå°‡  &lt;code&gt;client.key&lt;/code&gt; ã€ &lt;code&gt;client.cert&lt;/code&gt;  å°è£ã€‚æœƒç”¢ç”Ÿ  &lt;code&gt;client.p12&lt;/code&gt; ã€‚&lt;br /&gt;
é€™é‚Šæœƒè©¢å•å‰›å‰›ç”¢ç”Ÿ  &lt;code&gt;client.key&lt;/code&gt;  æ™‚çš„é‡‘é‘°å¯†ç¢¼ï¼Œé©—è­‰å¾Œæœƒå†è©¢å•é‡‘é‘°åŒ¯å‡ºå¯†ç¢¼ï¼Œåœ¨åŒ¯å…¥æ™‚æœƒéœ€è¦ (å¯ä¸è¨­ç½®)ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;openssl pkcs12 &lt;span class=&#34;token parameter variable&#34;&gt;-export&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-inkey&lt;/span&gt; client.key &lt;span class=&#34;token parameter variable&#34;&gt;-in&lt;/span&gt; client.cert &lt;span class=&#34;token parameter variable&#34;&gt;-out&lt;/span&gt; client.p12 &lt;span class=&#34;token parameter variable&#34;&gt;-name&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;client-cert&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;æ†‘è­‰åŒ¯å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ†‘è­‰åŒ¯å…¥&#34;&gt;#&lt;/a&gt; æ†‘è­‰åŒ¯å…¥&lt;/h2&gt;
&lt;p&gt;åœ¨ Windowsã€Linux æ¡Œé¢ç’°å¢ƒå¤§è‡´ä¸Šéƒ½ç›´æ¥é»å…©ä¸‹  &lt;code&gt;client.p12&lt;/code&gt;  å¾Œè¼¸å…¥åŒ¯å‡ºå¯†ç¢¼å³å¯ã€‚ä¹‹å¾Œå¯é–‹å•Ÿç€è¦½å™¨æŸ¥çœ‹ç¶²ç«™æ˜¯å¦å¯æ­£å¸¸ç€è¦½ã€‚&lt;/p&gt;
&lt;p&gt;macOS å¯èƒ½æœƒå‡ºç¾ä¸€ç›´è©¢å•å¯†ç¢¼ (åŒ¯å‡ºå¯†ç¢¼éŒ¯èª¤) çš„æƒ…æ³ï¼Œå¼·è€…æˆ‘åŒäº‹èªªæ˜¯å› ç‚º  &lt;code&gt;openssl&lt;/code&gt;  ç‰ˆæœ¬å·®ç•°é—œä¿‚ï¼Œä½¿ç”¨èˆŠç‰ˆçš„  &lt;code&gt;openssl&lt;/code&gt;  é‡æ–°åŒ¯å‡º p12 æ†‘è­‰å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;macOS é‚„éœ€è¦å¾  &lt;code&gt;é‘°åŒ™åœˆ&lt;/code&gt;  è¨­å®šæ†‘è­‰çš„å­˜å–æ¬Šé™ç‚ºä¸€å¾‹å…è¨±ï¼Œå¦å‰‡åœ¨ç€è¦½ç¶²ç«™çš„æ™‚å€™ï¼Œæœƒä¸€ç›´å‡ºç¾è©¢å•å¯†ç¢¼è«‹æ±‚å…è¨±çš„æƒ…æ³ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2024/06/17/dev-container-bind-source-error/</guid>
            <title>bind source path does not exist</title>
            <link>https://8loser.github.io/2024/06/17/dev-container-bind-source-error/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="VSCode" scheme="https://8loser.github.io/tags/VSCode/" />
            <category term="Remote Container" scheme="https://8loser.github.io/tags/Remote-Container/" />
            <pubDate>Mon, 17 Jun 2024 00:38:53 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å•é¡Œæè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•é¡Œæè¿°&#34;&gt;#&lt;/a&gt; å•é¡Œæè¿°&lt;/h1&gt;
&lt;p&gt;DevContainer å•Ÿå‹• container éŒ¯èª¤ï¼ŒæŸ¥çœ‹éŒ¯èª¤è¨Šæ¯å¦‚ä¸‹&lt;br /&gt;
 &lt;code&gt;Error response from daemon: invalid mount config for type &amp;quot;bind&amp;quot;: bind source path does not exist: /run/user/1000/wayland-0&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;OS: EndeavourOS&lt;/li&gt;
&lt;li&gt;åœ¨ VSCode ä½¿ç”¨ Dev Container å¥—ä»¶å•Ÿå‹• container&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä¿®æ­£æ–¹æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£æ–¹æ³•&#34;&gt;#&lt;/a&gt; ä¿®æ­£æ–¹æ³•&lt;/h1&gt;
&lt;p&gt;åˆªé™¤ä¸‹é¢å…©å€‹æª”æ¡ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/run/user/1000/wayland-0&lt;/li&gt;
&lt;li&gt;/run/user/1000/wayland-0.lock&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2024/06/16/shokaX-waline-comment/</guid>
            <title>Hexo ShokaX ä¸»é¡Œä½¿ç”¨ Waline ç•™è¨€ç‰ˆ</title>
            <link>https://8loser.github.io/2024/06/16/shokaX-waline-comment/</link>
            <category term="Step By Step" scheme="https://8loser.github.io/categories/Step-By-Step/" />
            <category term="Hexo theme" scheme="https://8loser.github.io/tags/Hexo-theme/" />
            <category term="Waline" scheme="https://8loser.github.io/tags/Waline/" />
            <pubDate>Sun, 16 Jun 2024 01:17:17 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ä½ˆç½²-waline-server-ç«¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½ˆç½²-waline-server-ç«¯&#34;&gt;#&lt;/a&gt; ä½ˆç½² Waline server ç«¯&lt;/h1&gt;
&lt;p&gt;åƒè€ƒ Waline ä½ˆç½²æ•™å­¸ç¶²ç«™ &lt;a href=&#34;https://waline.js.org/guide/deploy/vercel.html&#34;&gt;https://waline.js.org/guide/deploy/vercel.html&lt;/a&gt; ï¼Œé»é¸ Deploy æŒ‰éˆ•ï¼Œæœƒè·³è½‰ Vercel é é¢å»ºç«‹ Waline serverã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;vercel-deploy.png&#34; alt=&#34;Vercel deploy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨è©²æ–¹å¼ï¼Œåœ¨ Vercel å‡ºç¾ä¸‹é¢éŒ¯èª¤è¨Šæ¯ï¼Œæ”¹ç”¨é€™å€‹ &lt;a href=&#34;https://vercel.com/new/austin-lees-projects/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample&#34;&gt;[Deploy]&lt;/a&gt; è©¦è©¦&lt;/p&gt;
&lt;div class=&#34;note danger&#34;&gt;
&lt;p&gt;Error: No Output Directory named &amp;quot;dist&amp;quot; found after the Build completed. You can configure the Output Directory in your  Project Settings.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;é™¤äº† Vercel ä½œç‚º Waline æœå‹™ä¹‹å¤–ï¼Œä¹Ÿæœ‰å…¶ä»–é¸æ“‡ &lt;a href=&#34;https://waline.js.org/guide/get-started/server.html&#34;&gt;https://waline.js.org/guide/get-started/server.html&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;å»ºç«‹-waline-ä½¿ç”¨çš„è³‡æ–™åº«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-waline-ä½¿ç”¨çš„è³‡æ–™åº«&#34;&gt;#&lt;/a&gt; å»ºç«‹ Waline ä½¿ç”¨çš„è³‡æ–™åº«&lt;/h1&gt;
&lt;p&gt;Waline éœ€è¦è³‡æ–™åº«å„²å­˜ç•™è¨€è³‡æ–™ï¼ŒWaline æ”¯æ´å¤šç¨®è³‡æ–™åº« &lt;a href=&#34;https://waline.js.org/guide/database.html&#34;&gt;https://waline.js.org/guide/database.html&lt;/a&gt; ã€‚&lt;br /&gt;
Vercel ä¹Ÿæœ‰æä¾›è³‡æ–™åº«ï¼Œæ‰€ä»¥é€™é‚Šä½¿ç”¨ Vercel å…§å»ºçš„è³‡æ–™åº«æœå‹™ï¼Œå»ºç«‹ PostgreSQLã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;vercel-create-database.png&#34; alt=&#34;Create Database Step1&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;vercel-create-postgres.png&#34; alt=&#34;Create Database Step2&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;éœ€è¦çš„è³‡æ–™è¡¨è«‹åƒè€ƒ&lt;br /&gt;
&lt;a href=&#34;https://github.com/walinejs/waline/blob/main/assets/waline.pgsql&#34;&gt; https://github.com/walinejs/waline/blob/main/assets/waline.pgsql&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;å°‡-waline-æœå‹™èˆ‡è³‡æ–™åº«é€£æ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°‡-waline-æœå‹™èˆ‡è³‡æ–™åº«é€£æ¥&#34;&gt;#&lt;/a&gt; å°‡ Waline æœå‹™èˆ‡è³‡æ–™åº«é€£æ¥&lt;/h1&gt;
&lt;p&gt;é€²å…¥ App&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;enter-waline-app.png&#34; alt=&#34;Enter Waline App&#34; /&gt;&lt;br /&gt;
 é€£æ¥å‰›å‰›å»ºç«‹çš„ PostgreSQL&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;database-connect.png&#34; alt=&#34;Database connect&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;è¨­å®š-waline-ç’°å¢ƒè®Šæ•¸&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¨­å®š-waline-ç’°å¢ƒè®Šæ•¸&#34;&gt;#&lt;/a&gt; è¨­å®š Waline ç’°å¢ƒè®Šæ•¸&lt;/h1&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;setting-environment-variable.png&#34; alt=&#34;Setting environment variable&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè³‡æ–™åº«é€£æ¥æˆåŠŸï¼Œæœƒçœ‹åˆ°ç´…æ¡†å…§çš„ç’°å¢ƒè®Šæ•¸ã€‚&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;waline-environment-variable.png&#34; alt=&#34;Connected Success Variable&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†é€™æ¨£é‚„ç„¡æ³•è®“ Waline server æˆåŠŸé€£æ¥è³‡æ–™åº«ï¼Œé‚„éœ€è¦è¨­å®šä¸‹é¢çš„ç’°å¢ƒè®Šæ•¸&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PG_SSL
&lt;ul&gt;
&lt;li&gt;è¨­ç‚º true&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PG_PORT
&lt;ul&gt;
&lt;li&gt;è¨­ç‚º 5432&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;Waline å¯è¨­å®šçš„ PostgreSQL ç’°å¢ƒè®Šæ•¸&lt;br /&gt;
&lt;a href=&#34;https://waline.js.org/guide/database.html#postgresql&#34;&gt; https://waline.js.org/guide/database.html#postgresql&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;æ¸¬è©¦-waline-åŠŸèƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¸¬è©¦-waline-åŠŸèƒ½&#34;&gt;#&lt;/a&gt; æ¸¬è©¦ Waline åŠŸèƒ½&lt;/h1&gt;
&lt;p&gt;é€²å…¥ Waline project æŸ¥çœ‹ Waline ç•™è¨€é é¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;app-visit-test.png&#34; alt=&#34;Visit Waline app&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ­£å¸¸çš„è©±æœƒçœ‹åˆ°å¦‚ä¸‹ç•«é¢ï¼Œå¯ä»¥ç•™è¨€æ¸¬è©¦çœ‹çœ‹æ˜¯å¦æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;waline-comment-page.png&#34; alt=&#34;Waline comment page&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;è¨­å®š-shokax&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¨­å®š-shokax&#34;&gt;#&lt;/a&gt; è¨­å®š ShokaX&lt;/h1&gt;
&lt;p&gt;ä¿®æ”¹ Hexo ShokaX è¨­å®šæª”ï¼›Hexo è³‡æ–™å¤¾  &lt;code&gt;/_config.shokax.yml&lt;/code&gt;  æˆ–  &lt;code&gt;/_config.shokaX.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¢åŠ ä¸‹é¢è¨­å®š&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;_config.shokax.yml&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;waline&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# å•Ÿç”¨ç‹€æ…‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;serverURL&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://waline-three-wine.vercel.app&#34;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Waline server ç¶²å€ï¼Œå¾ Vercel Project æŸ¥çœ‹ domain&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;zh-TW&#34;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# comment ç•Œé¢èªè¨€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;meta&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# comment å¯å¡«å¯«é …ç›®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; nick&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mail&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;requiredMeta&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# comment å¿…å¡«é …ç›®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; nick&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mail&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;wordLimit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;400&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# comment å­—æ•¸ä¸Šé™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;pageSize&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# æ¯é é¡¯ç¤ºç­†æ•¸&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;Hexo ShokaX çš„ Waline å…¶ä»–è¨­å®šé …ç›®&lt;br /&gt;
&lt;a href=&#34;https://docs.kaitaku.xyz/guide/comment.html#valine-%E7%B3%BB%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F&#34;&gt; https://docs.kaitaku.xyz/guide/comment.html#valine - ç³»è¯„è®ºç³»ç»Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;ä½¿ç”¨ç´€éŒ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨ç´€éŒ„&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ç´€éŒ„&lt;/h1&gt;
&lt;h2 id=&#34;202406&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#202406&#34;&gt;#&lt;/a&gt; 2024/06&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;meta è¨­å®šç„¡æ•ˆï¼Œåªè¨­å®š nick, mail ä½†æ˜¯ç•Œé¢ä¸Šé‚„æ˜¯æœƒé¡¯ç¤ºç¶²å€æ¬„ä½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æœ€æ–°è©•è«–&lt;/code&gt;  é¡¯ç¤º emoji ç„¡æ•ˆï¼Œæœƒè®Šæˆ HTML&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/10/30/spawn-node-gyp-ENOENT/</guid>
            <title>spawn node-gyp ENOENT</title>
            <link>https://8loser.github.io/2023/10/30/spawn-node-gyp-ENOENT/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Docker" scheme="https://8loser.github.io/tags/Docker/" />
            <category term="Hexo" scheme="https://8loser.github.io/tags/Hexo/" />
            <category term="Shoka" scheme="https://8loser.github.io/tags/Shoka/" />
            <category term="Node.js" scheme="https://8loser.github.io/tags/Node-js/" />
            <pubDate>Mon, 30 Oct 2023 01:04:26 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å•é¡Œæè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•é¡Œæè¿°&#34;&gt;#&lt;/a&gt; å•é¡Œæè¿°&lt;/h1&gt;
&lt;p&gt;è¦æŠŠ theme è½‰ç‚º &lt;a href=&#34;https://docs.kaitaku.xyz/&#34;&gt;shokaX&lt;/a&gt; æ™‚ï¼ŒåŸ·è¡Œ  &lt;code&gt;SXC install shokaX&lt;/code&gt;  å‡ºç¾éŒ¯èª¤è¨Šæ¯&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;error /workspaces/page/node_modules/deasync: Command failed.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Exit code: &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Command: &lt;span class=&#34;token function&#34;&gt;node&lt;/span&gt; ./build.js&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Arguments: &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Directory: /workspaces/page/node_modules/deasync&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Output:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;node:events:495&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      throw er&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; // Unhandled &lt;span class=&#34;token string&#34;&gt;&#39;error&#39;&lt;/span&gt; event&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      ^&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Error: spawn node-gyp ENOENT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at ChildProcess._handle.onexit &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/child_process:284:19&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at onErrorNT &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/child_process:477:16&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at process.processTicksAndRejections &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/process/task_queues:82:21&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Emitted &lt;span class=&#34;token string&#34;&gt;&#39;error&#39;&lt;/span&gt; event on ChildProcess instance at:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at ChildProcess._handle.onexit &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/child_process:290:12&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at onErrorNT &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/child_process:477:16&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    at process.processTicksAndRejections &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;node:internal/process/task_queues:82:21&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  errno: -2,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  code: &lt;span class=&#34;token string&#34;&gt;&#39;ENOENT&#39;&lt;/span&gt;,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  syscall: &lt;span class=&#34;token string&#34;&gt;&#39;spawn node-gyp&#39;&lt;/span&gt;,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  path: &lt;span class=&#34;token string&#34;&gt;&#39;node-gyp&#39;&lt;/span&gt;,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  spawnargs: &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;rebuild&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Node.js v18.18.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;info Visit https://yarnpkg.com/en/docs/cli/add &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; documentation about this command.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Docker image: node:18-slim&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä¿®æ­£æ–¹æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£æ–¹æ³•&#34;&gt;#&lt;/a&gt; ä¿®æ­£æ–¹æ³•&lt;/h1&gt;
&lt;p&gt;å®‰è£ä¸‹é¢å¥—ä»¶ï¼Œä¸ç¢ºå®š  &lt;code&gt;make&lt;/code&gt; ,  &lt;code&gt;g++&lt;/code&gt;  éœ€ä¸éœ€è¦ï¼Œå› ç‚ºä¹‹å‰é‡éé¡ä¼¼çš„å•é¡Œéƒ½è£é€™ä¸‰å€‹ï¼Œæ‰€ä»¥ç›´æ¥è¤‡è£½éä¾†ç”¨ã€‚å¦‚æœæ²’æœ‰å®‰è£çš„è©±ï¼Œåœ¨å®‰è£  &lt;code&gt;node-gyp&lt;/code&gt;  æœƒå‡ºç¾å…¶ä»–éŒ¯èª¤ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt; python3 &lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt; g++&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å®‰è£  &lt;code&gt;node-gyp&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;pnpm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-g&lt;/span&gt; node-gyp&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/08/27/static-web-page-refresh-404/</guid>
            <title>éœæ…‹ç¶²é  refresh å‡ºç¾ 404</title>
            <link>https://8loser.github.io/2023/08/27/static-web-page-refresh-404/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Deploy" scheme="https://8loser.github.io/categories/Trouble/Deploy/" />
            <category term="Nginx" scheme="https://8loser.github.io/tags/Nginx/" />
            <category term="static web page" scheme="https://8loser.github.io/tags/static-web-page/" />
            <category term="Docker Compose" scheme="https://8loser.github.io/tags/Docker-Compose/" />
            <pubDate>Sun, 27 Aug 2023 00:40:55 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;trouble&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#trouble&#34;&gt;#&lt;/a&gt; Trouble&lt;/h1&gt;
&lt;p&gt;Vue é–‹ç™¼ç¶²é æ‰“åŒ…æˆéœæ…‹ç¶²é æª”æ¡ˆï¼Œä½¿ç”¨ docker compose çµåˆ nginx ä½ˆç½²ï¼Œç¶²é åˆ‡æ›åˆ°æœ‰è·¯å¾‘çš„é é¢å¾ŒæŒ‰ F5 é‡æ–°æ•´ç†é é¢æœƒå‡ºç¾ 404 éŒ¯èª¤ ã€‚&lt;/p&gt;
&lt;p&gt;éœæ…‹é é¢æ‰“åŒ…å¾Œæœ‰å†ç”¨ &lt;a href=&#34;https://acme.com/software/thttpd/&#34;&gt;thttpd&lt;/a&gt; ä½œç‚º web æœå‹™ä¸¦æ‰“åŒ…æˆ container æ–¹ä¾¿ä½ˆç½²ï¼Œå¯¦éš›éŒ¯èª¤æƒ…æ³å¦‚ä¸‹åœ–ï¼Œå¦‚æœä¸åŒçš„ web æœå‹™æœƒæœ‰ä¸åŒç•«é¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;404-not-found.png&#34; alt=&#34;404 Not Found&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;docker-composeyml&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-composeyml&#34;&gt;#&lt;/a&gt; Docker-compose.yml&lt;/h1&gt;
&lt;p&gt;æœ‰ä¿®æ”¹éçš„å…§å®¹ï¼Œå¯¦éš›ä¸åªæœ‰å…©å€‹ container&lt;/p&gt;
&lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;figcaption data-lang=&#34;Docker&#34;&gt;&lt;span&gt;docker-compose.yml&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;services:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  nginx:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    image: nginx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    restart: unless-stopped&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    volumes:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;# nginx è¨­å®šæª”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      - ./nginx.conf:/etc/nginx/conf.d/default.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      - ./robots.txt.test:/usr/share/nginx/html/robots.txt&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    environment:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      TZ: Asia/Taipei&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    ports:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      - target: 80&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        published: 80&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        protocol: tcp&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        mode: host&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å‰ç«¯ web service&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  branded:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    image: ***é¦¬è³½å…‹***&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    restart: unless-stopped&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;nginxconf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nginxconf&#34;&gt;#&lt;/a&gt; Nginx.conf&lt;/h1&gt;
&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;figcaption data-lang=&#34;nginx&#34;&gt;&lt;span&gt;nginx.conf&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;server_name&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# LB Public IP address&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; ***é¦¬è³½å…‹***&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; 130.211.0.0/22&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;set_real_ip_from&lt;/span&gt; 35.191.0.0/16&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;real_ip_header&lt;/span&gt; X-Forwarded-For&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;real_ip_recursive&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# é˜»æ“‹çš„ User Agent&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;token variable&#34;&gt;$http_user_agent&lt;/span&gt; ~* ***ä¸è¦å‘Šè¨´æ³¥*** )&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;return &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;101&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /robots.txt&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;alias&lt;/span&gt; /usr/share/nginx/html/robots.txt&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /healthcheck&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;access_log&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;off&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ok&#39;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# å‰ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_pass&lt;/span&gt; http://branded/&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; Host &lt;span class=&#34;token variable&#34;&gt;$host&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Real-IP &lt;span class=&#34;token variable&#34;&gt;$remote_addr&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Forwarded-For &lt;span class=&#34;token variable&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Custom-Referrer smc_identity_layer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;solution&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#solution&#34;&gt;#&lt;/a&gt; Solution&lt;/h1&gt;
&lt;p&gt;åœ¨ nginx.conf åŠ ä¸Š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;proxy_intercept_errors on;
error_page 404 /index.html;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;figcaption data-lang=&#34;nginx&#34;&gt;&lt;span&gt;nginx.conf&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å‰ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;location&lt;/span&gt; /&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_pass&lt;/span&gt; http://branded/&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; Host &lt;span class=&#34;token variable&#34;&gt;$host&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Real-IP &lt;span class=&#34;token variable&#34;&gt;$remote_addr&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Forwarded-For &lt;span class=&#34;token variable&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_set_header&lt;/span&gt; X-Custom-Referrer smc_identity_layer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# é«˜æƒ…å•† (?) åŠ ä¸‹é¢é€™å…©è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;proxy_intercept_errors&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token directive&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;error_page&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;404&lt;/span&gt; /index.html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/07/14/fixing-mixed-content/</guid>
            <title>ç€è¦½å™¨å‡ºç¾ Mixed Content è¨Šæ¯</title>
            <link>https://8loser.github.io/2023/07/14/fixing-mixed-content/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Mixed Content" scheme="https://8loser.github.io/tags/Mixed-Content/" />
            <category term="Browser" scheme="https://8loser.github.io/tags/Browser/" />
            <pubDate>Fri, 14 Jul 2023 19:25:05 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;Chrome Console å‡ºç¾  &lt;code&gt;Mixed Content&lt;/code&gt;  è¨Šæ¯&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Mixed Content: The page at &#39;https://www.***.com/&#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint &#39;http://192.168.10.200:3000/&#39;. 
This request has been blocked; the content must be served over HTTPS.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‡ºç¾è©²è¨Šæ¯æ˜¯å› ç‚ºåœ¨ https é é¢å…§ï¼Œå‘¼å« http å”å®šçš„ APIï¼ŒåŸºæ–¼å®‰å…¨å•é¡Œï¼Œç€è¦½å™¨æœƒå°é–è©²è«‹æ±‚ã€‚è§£æ±ºæ–¹å¼æ˜¯æŠŠ API æ›æˆ https å³å¯ï¼Œä½†é€™å€‹ API æ˜¯æˆ‘å€‘æ”¾åœ¨å®¢æˆ¶ç«¯å­˜å–å®¢æˆ¶å…§éƒ¨ç¶²è·¯çš„ serviceï¼Œè®“å®¢æˆ¶åœ¨æˆ‘å€‘ç¶²ç«™é€éå‘¼å«è©² service å­˜å–ä»–å€‘å…§ç¶²è³‡æ–™ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ç‚ºäº†é€™å€‹ service å»ºç«‹åŸŸåã€ç”³è«‹ SSL æ†‘è­‰æœ‰é»éº»ç…©ï¼ˆæˆ‘å°±æ‡¶ï¼‰ï¼Œæ‰€ä»¥è«‹å®¢æˆ¶èª¿æ•´ç€è¦½å™¨è¨­å®šï¼Œå…è¨±ä¸å®‰å…¨å…§å®¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;allow-insecure-content.png&#34; alt=&#34;Allow insecure conten&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç›¸é—œåƒè€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›¸é—œåƒè€ƒ&#34;&gt;#&lt;/a&gt; ç›¸é—œåƒè€ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://support.google.com/chrome/answer/114662?hl=zh-Hant&amp;amp;co=GENIE.Platform%3DDesktop#zippy=%2C%E7%9E%AD%E8%A7%A3%E5%8F%AF%E8%AE%8A%E6%9B%B4%E7%9A%84%E6%AC%8A%E9%99%90&#34;&gt;è®Šæ›´ç¶²ç«™è¨­å®šæ¬Šé™&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-TW/docs/Web/Security/Mixed_content&#34;&gt;æ··åˆå…§å®¹&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/05/28/yay-is-corrupted/</guid>
            <title>yay æ›´æ–°é¡¯ç¤ºæª”æ¡ˆæ¯€æ</title>
            <link>https://8loser.github.io/2023/05/28/yay-is-corrupted/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="EndeavourOS" scheme="https://8loser.github.io/tags/EndeavourOS/" />
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <pubDate>Sun, 28 May 2023 18:03:54 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å•é¡Œæè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•é¡Œæè¿°&#34;&gt;#&lt;/a&gt; å•é¡Œæè¿°&lt;/h1&gt;
&lt;p&gt;EndeavourOS æ›´æ–°æ™‚å‡ºç¾éŒ¯èª¤è¨Šæ¯ï¼Œä¸”æ¯æ¬¡æ›´æ–°æ™‚éƒ½å‡ºç¾ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:: é€²è¡Œå®‰è£å—ï¼Ÿ &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;Y/n&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:: æ­£åœ¨æ¥æ”¶è»Ÿé«”åŒ…â€¦&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; libusbmuxd-2.0.2-3-x86_64            &lt;span class=&#34;token number&#34;&gt;31.8&lt;/span&gt; KiB   &lt;span class=&#34;token number&#34;&gt;529&lt;/span&gt; KiB/s 00:00 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; libplist-2.3.0-2-x86_64             &lt;span class=&#34;token number&#34;&gt;140.7&lt;/span&gt; KiB  &lt;span class=&#34;token number&#34;&gt;1315&lt;/span&gt; KiB/s 00:00 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; libimobiledevice-1.3.0-9-x86_64     &lt;span class=&#34;token number&#34;&gt;481.5&lt;/span&gt; KiB  &lt;span class=&#34;token number&#34;&gt;2.35&lt;/span&gt; MiB/s 00:00 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; yay-12.0.5-1-x86_64                   &lt;span class=&#34;token number&#34;&gt;3.0&lt;/span&gt; MiB  &lt;span class=&#34;token number&#34;&gt;2.69&lt;/span&gt; MiB/s 00:01 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; ç¸½å…± &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;/4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;                            &lt;span class=&#34;token number&#34;&gt;3.7&lt;/span&gt; MiB  &lt;span class=&#34;token number&#34;&gt;3.23&lt;/span&gt; MiB/s 00:01 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;78&lt;/span&gt;/78&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; æ­£åœ¨æª¢æŸ¥é‘°åŒ™åœˆä¸­çš„é‘°åŒ™                                   &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;78&lt;/span&gt;/78&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; æ­£åœ¨æª¢æŸ¥è»Ÿé«”åŒ…å®Œæ•´æ€§                                     &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;------------------------------------&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;%&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;éŒ¯èª¤ï¼šyayï¼šä¾†è‡ª manuel &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;manuel@endeavouros.com&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; çš„ç°½ç« ä¿¡ä»»ç­‰ç´šä¸æ˜::  /var/cache/pacman/pkg/yay-12.0.5-1-x86_64.pkg.tar.zst æª”æ¡ˆæ¯€æ&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;å¥—ä»¶ä¸æ­£ç¢ºæˆ–ææ¯€ï¼ˆPGP ç°½ç« ï¼‰&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;ã€‚ä½ è¦åˆªé™¤å®ƒå—? &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;Y/n&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;éŒ¯èª¤ï¼šç„¡æ³•æäº¤è™•ç† &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;å¥—ä»¶ä¸æ­£ç¢ºæˆ–ææ¯€ï¼ˆPGP ç°½ç« ï¼‰&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ç™¼ç”ŸéŒ¯èª¤ï¼Œæ²’æœ‰è»Ÿé«”åŒ…è¢«æ›´æ–°ã€‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ä¿®æ­£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£&#34;&gt;#&lt;/a&gt; ä¿®æ­£&lt;/h1&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; pacman &lt;span class=&#34;token parameter variable&#34;&gt;-Sy&lt;/span&gt; archlinux-keyring endeavouros-keyring&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¿®æ­£å¾ŒåŸ·è¡Œ  &lt;code&gt;yay -Syu&lt;/code&gt;  å¯æ­£å¸¸æ›´æ–°äº†ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/05/06/dbeaver-backup-start-unavailable/</guid>
            <title>DBeaver backup start æŒ‰éˆ•æ²’æœ‰ä½œç”¨</title>
            <link>https://8loser.github.io/2023/05/06/dbeaver-backup-start-unavailable/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <category term="DBeaver" scheme="https://8loser.github.io/tags/DBeaver/" />
            <pubDate>Sat, 06 May 2023 22:57:59 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å•é¡Œæè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•é¡Œæè¿°&#34;&gt;#&lt;/a&gt; å•é¡Œæè¿°&lt;/h1&gt;
&lt;p&gt;åœ¨ Linux å…§ DBeaver backup  &lt;code&gt;Start&lt;/code&gt;  æŒ‰éˆ•ç„¡æ³•é»é¸ï¼Œä¹Ÿç„¡æ³•  &lt;code&gt;Next&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;start-unavailable.png&#34; alt=&#34;start unavailable&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;OS: EndeavourOS, BUILD_ID=2023.03.06&lt;/li&gt;
&lt;li&gt;DBeaver	Community 23.0.3&lt;/li&gt;
&lt;li&gt;Database: é›²ç«¯ PostgreSQL&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä¿®æ­£æ–¹æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£æ–¹æ³•&#34;&gt;#&lt;/a&gt; ä¿®æ­£æ–¹æ³•&lt;/h1&gt;
&lt;h2 id=&#34;å®‰è£-postgresql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£-postgresql&#34;&gt;#&lt;/a&gt; å®‰è£ PostgreSQL&lt;/h2&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; pacman &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; postgresql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;æŸ¥çœ‹-pg_dump-ä½ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥çœ‹-pg_dump-ä½ç½®&#34;&gt;#&lt;/a&gt; æŸ¥çœ‹ pg_dump ä½ç½®&lt;/h2&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;whereis&lt;/span&gt; pg_dump&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pg_dump: /usr/bin/pg_dump /usr/share/man/man1/pg_dump.1.gz&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;çŸ¥é“  &lt;code&gt;pg_dump&lt;/code&gt;  ç¨‹å¼ä½ç½®åœ¨  &lt;code&gt;/usr/bin/&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;dbeaver-è¨­å®š-driver&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#dbeaver-è¨­å®š-driver&#34;&gt;#&lt;/a&gt; DBeaver è¨­å®š Driver&lt;/h2&gt;
&lt;p&gt;å¾ DBeaver é¸å–®é–‹å•Ÿ Database/Driver Managerï¼Œé»é¸ PostgreSQL æŒ‰  &lt;code&gt;Edit&lt;/code&gt; &lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;driver-manager.png&#34; alt=&#34;Driver Manager&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é¸å–  &lt;code&gt;Native Client&lt;/code&gt; / &lt;code&gt;Add Home&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;native-client.png&#34; alt=&#34;Native Client&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¨­å®š Home ç‚º  &lt;code&gt;/usr/bin/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;add-home.png&#34; alt=&#34;Add Home&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ¸¬è©¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¸¬è©¦&#34;&gt;#&lt;/a&gt; æ¸¬è©¦&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;Next&lt;/code&gt;  å¯ä»¥é»é¸äº†&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;backup-next.png&#34; alt=&#34;Backup Next&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é»é¸  &lt;code&gt;Next&lt;/code&gt;  å¾Œï¼Œé¸å–å‚™ä»½è·¯å¾‘æŒ‰  &lt;code&gt;Start&lt;/code&gt;  å°±å¯ä»¥å‚™ä»½äº†&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;backup-start.png&#34; alt=&#34;Backup Start&#34; /&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/03/12/reduce-frontend-docker-image/</guid>
            <title>ç¸®æ¸›éœæ…‹ç¶²é  Docker image å¤§å°</title>
            <link>https://8loser.github.io/2023/03/12/reduce-frontend-docker-image/</link>
            <category term="Docker" scheme="https://8loser.github.io/tags/Docker/" />
            <pubDate>Sun, 12 Mar 2023 21:59:19 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‰è¨€&#34;&gt;#&lt;/a&gt; å‰è¨€&lt;/h1&gt;
&lt;p&gt;é€šå¸¸ Vue éƒ¨å±¬éƒ½æ˜¯å…ˆæ‰“åŒ…æˆéœæ…‹ç¶²é å†éƒ¨å±¬åˆ° web æœå‹™å™¨ä¸Šï¼Œä½†å¦‚æ­¤ç„¡æ³•åšåˆ°ç¨‹å¼ç¢¼ä¸Šå‚³ç‰ˆæ§å¾Œè‡ªå‹•éƒ¨ç½²ï¼Œå› ç‚ºä¸Šå‚³çš„æ˜¯åŸå§‹ç¢¼ï¼Œä¸æ˜¯æ‰“åŒ…å¾Œçš„éœæ…‹ç¶²é ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ Vue æ­é… Docker æ™‚ï¼Œæœ‰ç¨®ä½œæ³•æ˜¯æŠŠåŸå§‹ç¢¼ç›´æ¥ç›´æ¥ build æˆåŸ·è¡Œ  &lt;code&gt;npm run dev&lt;/code&gt;  çš„ docker image å¾Œæ”¾åœ¨ server åŸ·è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;jsut-do-it.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;note danger&#34;&gt;
&lt;p&gt;é€™ç¨®ä½œæ³•ç”¢ç”Ÿçš„ docker image å¾ˆå¤§ï¼Œæ‰è²»é‚„ç”¨ Vue&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;ç¸®æ¸›æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¸®æ¸›æ–¹å¼&#34;&gt;#&lt;/a&gt; ç¸®æ¸›æ–¹å¼&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ &lt;a href=&#34;https://docs.docker.com/build/building/multi-stage/&#34;&gt;Multi-stage builds&lt;/a&gt;ï¼Œåœ¨ç¬¬ä¸€å€‹ stage build å‡ºéœæ…‹ç¶²é ï¼Œè¤‡è£½åˆ°ç¬¬äºŒå€‹ stage è·Ÿ web service æ‰“åŒ…æˆ imageã€‚&lt;/p&gt;
&lt;p&gt;å‡è¨­åŸæœ¬ Dockerfiler å¦‚ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;figcaption data-lang=&#34;Docker&#34;&gt;&lt;span&gt;fat Dockerfile&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; node:18-slim&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;COPY&lt;/span&gt; . .&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;RUN&lt;/span&gt; npm install --production=false&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;EXPOSE&lt;/span&gt; 5173&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;CMD&lt;/span&gt; [&lt;span class=&#34;token string&#34;&gt;&#34;npm&#34;&lt;/span&gt;,&lt;span class=&#34;token string&#34;&gt;&#34;run&#34;&lt;/span&gt;,&lt;span class=&#34;token string&#34;&gt;&#34;dev&#34;&lt;/span&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åŠ ä¸Šç¬¬äºŒå€‹ stageï¼Œä¸¦ä¸”ä½¿ç”¨ &lt;a href=&#34;https://acme.com/software/thttpd/&#34;&gt;thttpd&lt;/a&gt; ä½œç‚ºéœæ…‹ç¶²é çš„ web service&lt;/p&gt;
&lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;figcaption data-lang=&#34;Docker&#34;&gt;&lt;span&gt;slim Dockerfile&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç¬¬ä¸€å€‹ stage&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; node:18-slim &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt; builder&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;COPY&lt;/span&gt; . .&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;RUN&lt;/span&gt; npm install --production=false&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# build static html æª”æ¡ˆï¼Œæª”æ¡ˆæœƒç”¢ç”Ÿåœ¨ /dist å…§&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;RUN&lt;/span&gt; npm run build&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç¬¬äºŒå€‹ stage&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; alpine&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®‰è£ thttpd&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;RUN&lt;/span&gt; apk update &amp;amp;&amp;amp; apk upgrade &amp;amp;&amp;amp; apk add --no-cache thttpd&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¤‡è£½ç¬¬ä¸€å€‹ stage ç”¢ç”Ÿçš„ static html åˆ° /front&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;COPY&lt;/span&gt; &lt;span class=&#34;token options&#34;&gt;&lt;span class=&#34;token property&#34;&gt;--from&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;builder&lt;/span&gt;&lt;/span&gt; /dist /front&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;EXPOSE&lt;/span&gt; 5173&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# container å•Ÿå‹•æ™‚åŸ·è¡Œ thttpd&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token instruction&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;CMD&lt;/span&gt; [&lt;span class=&#34;token string&#34;&gt;&#34;thttpd&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-D&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-h&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;0.0.0.0&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-p&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;5173&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-d&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;/front&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-l&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;-M&#34;&lt;/span&gt;, &lt;span class=&#34;token string&#34;&gt;&#34;60&#34;&lt;/span&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;finish.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ¯”è¼ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¯”è¼ƒ&#34;&gt;#&lt;/a&gt; æ¯”è¼ƒ&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Docker image å¤§å°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¿®æ”¹å‰&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;504MB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¿®æ”¹å¾Œ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.1MB&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;whoa.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/03/11/EndeavourOS-init/</guid>
            <title>EndeavourOS å¸¸ç”¨ç¨‹å¼å®‰è£</title>
            <link>https://8loser.github.io/2023/03/11/EndeavourOS-init/</link>
            <category term="EndeavourOS" scheme="https://8loser.github.io/tags/EndeavourOS/" />
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <category term="Shell script" scheme="https://8loser.github.io/tags/Shell-script/" />
            <pubDate>Sat, 11 Mar 2023 21:23:40 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;åƒæ•¸èªªæ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åƒæ•¸èªªæ˜&#34;&gt;#&lt;/a&gt; åƒæ•¸èªªæ˜&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--noconfirm&lt;/code&gt;  è‡ªå‹•ç¢ºèª&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--needed&lt;/code&gt;  å·²å®‰è£çš„å¥—ä»¶ä¸é‡è¤‡å®‰è£&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ³¨éŸ³è¼¸å…¥æ³•-æ–°é…·éŸ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ³¨éŸ³è¼¸å…¥æ³•-æ–°é…·éŸ³&#34;&gt;#&lt;/a&gt; æ³¨éŸ³è¼¸å…¥æ³• (æ–°é…·éŸ³)&lt;/h1&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pacman &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--needed&lt;/span&gt; fcitx5 fcitx5-im fcitx5-chinese-addons fcitx5-configtool fcitx5-chewing&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¿®æ”¹  &lt;code&gt;/etc/environment&lt;/code&gt;  æª”æ¡ˆï¼Œå¢åŠ ä¸‹é¢è¨­å®š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;GTK_IM_MODULE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;fcitx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;QT_IM_MODULE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;fcitx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;&lt;span class=&#34;token environment constant&#34;&gt;XMODIFIERS&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;@im&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;fcitx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;è—èŠ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è—èŠ½&#34;&gt;#&lt;/a&gt; è—èŠ½&lt;/h1&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pacman &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--needed&lt;/span&gt; bluez bluez-utils blueberry&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¨­å®šé–‹æ©Ÿè‡ªå‹•å•Ÿç”¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl &lt;span class=&#34;token builtin class-name&#34;&gt;enable&lt;/span&gt; bluetooth&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;visual-studio-code&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#visual-studio-code&#34;&gt;#&lt;/a&gt; Visual Studio Code&lt;/h1&gt;
&lt;p&gt;å®‰è£ AUR çš„ bin ç‰ˆæœ¬æ‰æœ‰ Remote Development å¥—ä»¶&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yay &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--needed&lt;/span&gt; visual-studio-code-bin&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;docker&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker&#34;&gt;#&lt;/a&gt; Docker&lt;/h1&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pacman &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--needed&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;docker-desktop&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-desktop&#34;&gt;#&lt;/a&gt; Docker Desktop&lt;/h1&gt;
&lt;p&gt;è¦å…ˆä¸‹è¼‰å®‰è£æª”æ¡ˆ&lt;/p&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;ä¸‹è¼‰ç‰ˆæœ¬ï¼Œå¯åƒè€ƒ &lt;a href=&#34;https://docs.docker.com/desktop/release-notes/&#34;&gt;https://docs.docker.com/desktop/release-notes/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¸‹è¼‰å¥—ä»¶æª”æ¡ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;dockerDesktopFile&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;docker-desktop-4.17.0-x86_64.pkg.tar.zst&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; https://desktop.docker.com/linux/main/amd64/&lt;span class=&#34;token variable&#34;&gt;$dockerDesktopFile&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-P&lt;/span&gt; /tmp&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®‰è£å¥—ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pacman &lt;span class=&#34;token parameter variable&#34;&gt;-U&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; /tmp/&lt;span class=&#34;token variable&#34;&gt;$dockerDesktopFile&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç§»é™¤ä¸‹è¼‰çš„æª”æ¡ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; /tmp/&lt;span class=&#34;token variable&#34;&gt;$dockerDesktopFile&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;æ‰‹å‹•å®‰è£å¯åƒè€ƒ &lt;a href=&#34;https://docs.docker.com/desktop/install/archlinux/&#34;&gt;https://docs.docker.com/desktop/install/archlinux/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&#34;google-chrome&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#google-chrome&#34;&gt;#&lt;/a&gt; Google Chrome&lt;/h1&gt;
&lt;p&gt;AUR æ‰æœ‰&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yay &lt;span class=&#34;token parameter variable&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--noconfirm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--needed&lt;/span&gt; google-chrome&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;è¨­å®š-ram-disk&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¨­å®š-ram-disk&#34;&gt;#&lt;/a&gt; è¨­å®š RAM disk&lt;/h1&gt;
&lt;p&gt;å»ºç«‹æª”æ¡ˆ  &lt;code&gt;/etc/tmpfiles.d/shmFolder.conf&lt;/code&gt; &lt;br /&gt;
 ä½¿ç”¨è€…åç¨±çš„ä½ç½®è¨˜å¾—ä¿®æ”¹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¸‹è¼‰è³‡æ–™å¤¾&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;d /dev/shm/Downloads 0755 &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; - -&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;L+ /home/&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;/Downloads - - - - /dev/shm/Downloads&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Chrome æš«å­˜è³‡æ–™å¤¾&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;d /dev/shm/ChromeCache 0700 &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; - -&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;L+ /home/&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;ä½¿ç”¨è€…åç¨±&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;/.cache/google-chrome - - - - /dev/shm/ChromeCache&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åŸ·è¡Œä½¿è¨­å®šæª”ç”Ÿæ•ˆï¼Œæˆ–è€…é‡æ–°é–‹æ©Ÿ&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemd-tmpfiles &lt;span class=&#34;token parameter variable&#34;&gt;--create&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å®Œæ•´-shell-script&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´-shell-script&#34;&gt;#&lt;/a&gt; å®Œæ•´ Shell Script&lt;/h1&gt;
&lt;p&gt;åœ¨é€™è£¡ &lt;a href=&#34;https://gist.github.com/8loser/a99f0e946861db9a368693ab747c5506&#34;&gt;EndeavourOS-init.sh&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/02/23/linux-recovering-journal/</guid>
            <title>Linux é–‹æ©Ÿé¡¯ç¤º recovering journal</title>
            <link>https://8loser.github.io/2023/02/23/linux-recovering-journal/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <pubDate>Thu, 23 Feb 2023 16:51:28 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;æè¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æè¿°&#34;&gt;#&lt;/a&gt; æè¿°&lt;/h1&gt;
&lt;p&gt;Linux ä½œæ¥­ç³»çµ±é–‹æ©Ÿé¡¯ç¤º recovering journalï¼Œç„¡æ³•æ­£å¸¸é€²å…¥æ¡Œé¢ç’°å¢ƒã€‚&lt;br /&gt;
å®Œæ•´è¨Šæ¯å¦‚ä¸‹ï¼Œå‡ºç¾  &lt;code&gt;recovering journal&lt;/code&gt;  å¾Œï¼Œè¦ç­‰å€‹å¹¾åˆ†é˜æ‰æœƒå†å‡ºç¾å¾ŒçºŒçš„è¨Šæ¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;é–‹æ©Ÿè¨Šæ¯&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;/dev/nvme0n1p5: recovering journal&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;/dev/nvme0n1p5: clean, &lt;span class=&#34;token number&#34;&gt;1217915&lt;/span&gt;/16416000 files, &lt;span class=&#34;token number&#34;&gt;17252131&lt;/span&gt;/65536000 blocks&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt; TIME &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; Timed out waiting &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; device /dev/sda2.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;DEPEND&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; Dependency failed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; /home/user/test.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;DEPEND&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; Dependency failed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; Local File System.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;You are &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; emergency mode. After logging in, &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;journalctl -xb&#34;&lt;/span&gt; to view system logs, &lt;span class=&#34;token string&#34;&gt;&#34;systemctl reboot&#34;&lt;/span&gt; to reboot, &lt;span class=&#34;token string&#34;&gt;&#34;systemctl default&#34;&lt;/span&gt; or &lt;span class=&#34;token string&#34;&gt;&#34;exit&#34;&lt;/span&gt; to boot into default mode.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Give root password &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; maintenance&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;or press Control-D to &lt;span class=&#34;token builtin class-name&#34;&gt;continue&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;:&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;ç³»çµ±ç’°å¢ƒ&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ lsb_release &lt;span class=&#34;token parameter variable&#34;&gt;-a&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;LSB Version:	n/a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Distributor ID:	ManjaroLinux&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Description:	Manjaro Linux&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Release:	&lt;span class=&#34;token number&#34;&gt;22.0&lt;/span&gt;.4&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Codename:	Sikaris&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ä¿®æ­£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£&#34;&gt;#&lt;/a&gt; ä¿®æ­£&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ root æ¬Šé™ç·¨è¼¯  &lt;code&gt;/etc/fstab&lt;/code&gt; ï¼ŒæŠŠ  &lt;code&gt;/dev/sda2&lt;/code&gt;  (éŒ¯èª¤è¨Šæ¯ä¸­é¡¯ç¤ºçš„) é‚£è¡Œåˆªé™¤ï¼Œå„²å­˜ï¼Œrebootã€‚&lt;/p&gt;
&lt;h1 id=&#34;åŸå› &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸå› &#34;&gt;#&lt;/a&gt; åŸå› &lt;/h1&gt;
&lt;p&gt;æ‡‰è©²æ˜¯æˆ‘å‰ä¸€æ¬¡é—œæ©Ÿå‰ï¼Œæ’å¤–æ¥ç¡¬ç¢Ÿåˆç”¨ partition ç®¡ç†å·¥å…· mount å¤–æ¥ç¡¬ç¢Ÿ partition å°è‡´ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/02/20/terminals-pty-host-is-unresponsive/</guid>
            <title>Dev Containers å‡ºç¾ terminal&#39;s pty host process is unresponsive</title>
            <link>https://8loser.github.io/2023/02/20/terminals-pty-host-is-unresponsive/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="VSCode" scheme="https://8loser.github.io/tags/VSCode/" />
            <category term="Remote Development" scheme="https://8loser.github.io/tags/Remote-Development/" />
            <pubDate>Mon, 20 Feb 2023 14:10:40 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;éŒ¯èª¤è¨Šæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éŒ¯èª¤è¨Šæ¯&#34;&gt;#&lt;/a&gt; éŒ¯èª¤è¨Šæ¯&lt;/h1&gt;
&lt;div class=&#34;note success&#34;&gt;
&lt;p&gt;Visual Studio Code 1.76.1 ç‰ˆæœ¬å·²ä¸æœƒæœ‰æ­¤å•é¡Œ&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;æ›´æ–° Visual Studio Code å¾Œï¼Œé€²å…¥ Dev Containers å‡ºç¾éŒ¯èª¤  &lt;code&gt;The connection to the terminal&#39;s pty host process is unresponsive&lt;/code&gt; ï¼Œä¸” terminal ç„¡æ³•ä½¿ç”¨ã€‚&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;error-message.png&#34; alt=&#34;Error message&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é»é¸  &lt;code&gt;Restart pty host&lt;/code&gt;  å¾Œ terminal ä»ç„¡æ³•æ­£å¸¸é¡¯ç¤º&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ä½œæ¥­ç³»çµ±&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;ç³»çµ±è³‡è¨Š&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ lsb_release  &lt;span class=&#34;token parameter variable&#34;&gt;-a&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;LSB Version:	n/a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Distributor ID:	ManjaroLinux&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Description:	Manjaro Linux&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Release:	&lt;span class=&#34;token number&#34;&gt;22.0&lt;/span&gt;.4&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Codename:	Sikaris&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;Visual Studio Code 1.75.1 (æœƒå‡ºç¾éŒ¯èª¤çš„ç‰ˆæœ¬)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å˜—è©¦ä¿®æ­£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å˜—è©¦ä¿®æ­£&#34;&gt;#&lt;/a&gt; å˜—è©¦ä¿®æ­£&lt;/h1&gt;
&lt;p&gt;Visual Studio Code è¨­å®š terminal.integrated.windowsEnableConpty: falseï¼Œé‡å•Ÿå¾Œç•°å¸¸ç‹€æ³ä¸€æ¨£ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä½¿ç”¨-downgrade-é™ç‰ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨-downgrade-é™ç‰ˆ&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ downgrade é™ç‰ˆ&lt;/h1&gt;
&lt;p&gt;ç„¡æ³•é™ç‰ˆï¼Œå¯èƒ½å› ç‚ºæˆ‘å…ˆæŠŠ VSCode åˆªé™¤å†é‡æ–°å®‰è£ï¼Œè€Œé‡æ–°å®‰è£æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæ‰€ä»¥é›»è…¦å…§æ²’æœ‰ä¿ç•™èˆŠç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; downgrade visual-studio-code-bin&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Downgrading from A.L.A. is disabled on the stable branch. To override this behavior, &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; DOWNGRADE_FROM_ALA to &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;See https://wiki.manjaro.org/index.php/Downgrading_packages  &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;more&lt;/span&gt; details.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;No results found&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Unable to downgrade visual-studio-code-bin&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç›´æ¥å®‰è£èˆŠç‰ˆæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›´æ¥å®‰è£èˆŠç‰ˆæœ¬&#34;&gt;#&lt;/a&gt; ç›´æ¥å®‰è£èˆŠç‰ˆæœ¬&lt;/h1&gt;
&lt;h2 id=&#34;å–å¾—èˆŠç‰ˆæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å–å¾—èˆŠç‰ˆæœ¬&#34;&gt;#&lt;/a&gt; å–å¾—èˆŠç‰ˆæœ¬&lt;/h2&gt;
&lt;p&gt;å¾ &lt;a href=&#34;https://aur.archlinux.org/packages/&#34;&gt;AUR repository&lt;/a&gt; æ‰¾åˆ°ä½¿ç”¨çš„å¥—ä»¶&lt;a href=&#34;https://aur.archlinux.org/packages/visual-studio-code-bin&#34;&gt; visual-studio-code-bin&lt;/a&gt;ï¼Œé»é¸  &lt;code&gt;View Changes&lt;/code&gt;  æŸ¥çœ‹èˆŠç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;aur-package.png&#34; alt=&#34;AUR package&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é¸æ“‡å¯ä»¥æ­£å¸¸çš„ç‰ˆæœ¬ï¼›1.74.3ï¼Œä¸‹è¼‰å¥—ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;aur-package-changes.png&#34; alt=&#34;AUR package changes&#34; /&gt;&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;old-package-download.png&#34; alt=&#34;old package download&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å»ºç«‹-package&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-package&#34;&gt;#&lt;/a&gt; å»ºç«‹ package&lt;/h2&gt;
&lt;p&gt;è§£å£“ç¸®å¾Œé€²å…¥&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;è§£å£“ç¸®å¾Œçš„æª”æ¡ˆæ¸…å–®&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-a1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;code.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;code-url-handler.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;PKGBUILD&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;.SRCINFO&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-bin.install&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-bin.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-workspace.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å»ºç«‹ package&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;å»ºç«‹ package&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ makepkg &lt;span class=&#34;token parameter variable&#34;&gt;-s&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Making package: visual-studio-code-bin &lt;span class=&#34;token number&#34;&gt;1.74&lt;/span&gt;.3-1 &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;å»¿å»¿ä¸‰å¹´äºŒæœˆå»¿æ—¥ &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;é€±ä¸€&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; å»¿æ™‚47åˆ†åä¸‰ç§’&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Checking runtime dependencies&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Checking buildtime dependencies&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Retrieving sources&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Found code.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Found code-url-handler.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Found visual-studio-code-workspace.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Found visual-studio-code-bin.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Downloading code_x64_1.74.3.tar.gz&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                                 Dload  Upload   Total   Spent    Left  Speed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;134&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;134&lt;/span&gt;    &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;    &lt;span class=&#34;token number&#34;&gt;159&lt;/span&gt;      &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; --:--:-- --:--:-- --:--:--   &lt;span class=&#34;token number&#34;&gt;159&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;  131M  &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;  131M    &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  3979k      &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:00:33  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:00:33 --:--:-- 4091k&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Validating &lt;span class=&#34;token builtin class-name&#34;&gt;source&lt;/span&gt; files with sha256sums&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    code.desktop &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;. Passed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    code-url-handler.desktop &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;. Passed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    visual-studio-code-workspace.xml &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;. Passed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    visual-studio-code-bin.sh &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;. Passed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Validating source_x86_64 files with sha256sums&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    code_x64_1.74.3.tar.gz &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;. Passed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Extracting sources&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Extracting code_x64_1.74.3.tar.gz with bsdtar&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Entering fakeroot environment&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Starting package&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Tidying install&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Removing libtool files&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Purging unwanted files&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Removing static library files&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Stripping unneeded symbols from binaries and libraries&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Compressing &lt;span class=&#34;token function&#34;&gt;man&lt;/span&gt; and info pages&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Checking &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; packaging issues&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Creating package &lt;span class=&#34;token string&#34;&gt;&#34;visual-studio-code-bin&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Generating .PKGINFO file&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Generating .BUILDINFO file&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Adding &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; file&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Generating .MTREE file&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  -&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Compressing package&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Leaving fakeroot environment.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; Finished making: visual-studio-code-bin &lt;span class=&#34;token number&#34;&gt;1.74&lt;/span&gt;.3-1 &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;å»¿å»¿ä¸‰å¹´äºŒæœˆå»¿æ—¥ &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;é€±ä¸€&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; å»¿æ™‚48åˆ†äºŒç§’&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å»ºç«‹ package å¾Œæœƒç”¢ç”Ÿéœ€è¦çš„æª”æ¡ˆï¼Œæª¢æŸ¥æœ‰æ²’æœ‰ç”¢ç”Ÿ  &lt;code&gt;visual-studio-code-bin-1.74.3-1-x86_64.pkg.tar.zst&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;å»ºç«‹ package å¾Œç”¢ç”Ÿéœ€è¦çš„æª”æ¡ˆ&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-a1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;code.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;code-url-handler.desktop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;code_x64_1.74.3.tar.gz&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pkg&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;PKGBUILD&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;src&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;.SRCINFO&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-bin-1.74.3-1-x86_64.pkg.tar.zst&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-bin.install&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-bin.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;visual-studio-code-workspace.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å®‰è£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£&#34;&gt;#&lt;/a&gt; å®‰è£&lt;/h2&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;span&gt;å®‰è£ package&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; pacman &lt;span class=&#34;token parameter variable&#34;&gt;-U&lt;/span&gt; visual-studio-code-bin-1.74.3-1-x86_64.pkg.tar.zst&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;loading packages&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resolving dependencies&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;looking &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; conflicting packages&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Packages &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; visual-studio-code-bin-1.74.3-1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Total Installed Size:  &lt;span class=&#34;token number&#34;&gt;331.05&lt;/span&gt; MiB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:: Proceed with installation? &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;Y/n&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; y&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; checking keys &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; keyring                                   &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; checking package integrity                                 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; loading package files                                      &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; checking &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt; conflicts                                &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; checking available disk space                              &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:: Processing package changes&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; installing visual-studio-code-bin                          &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;####################################] 100%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; NOTE: Custom flags should be put directly in: ~/.config/code-flags.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Optional dependencies &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; visual-studio-code-bin&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    glib2: Needed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; move to trash functionality &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;installed&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    libdbusmenu-glib: Needed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; KDE global menu &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;installed&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    org.freedesktop.secrets: Needed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; settings &lt;span class=&#34;token function&#34;&gt;sync&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;installed&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    icu69: Needed &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; live share&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:: Running post-transaction hooks&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; Arming ConditionNeedsUpdate&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;/4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; Updating the MIME &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; database&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;/4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; Refreshing PackageKit&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;/4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; Updating the desktop &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt; MIME &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cache&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;æ³¨æ„äº‹é …&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ³¨æ„äº‹é …&#34;&gt;#&lt;/a&gt; æ³¨æ„äº‹é …&lt;/h1&gt;
&lt;p&gt;åœ¨ Linux ç’°å¢ƒè¦å®‰è£  &lt;code&gt;visual-studio-code-bin&lt;/code&gt;  çš„ç‰ˆæœ¬ï¼Œæ‰æœ‰  &lt;code&gt;Remote Development&lt;/code&gt;  å¥—ä»¶å¯ä»¥å®‰è£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;package-visual-studio-code-bin.png&#34; alt=&#34;Visual Studio Code bin&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;åƒè€ƒè³‡æ–™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åƒè€ƒè³‡æ–™&#34;&gt;#&lt;/a&gt; åƒè€ƒè³‡æ–™&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/microsoft/vscode-remote-release/issues/7999&#34;&gt;https://github.com/microsoft/vscode-remote-release/issues/7999&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/microsoft/vscode/issues/130320&#34;&gt;https://github.com/microsoft/vscode/issues/130320&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/02/19/newbie-guide/</guid>
            <title>æ–°æ‰‹æŒ‡å—</title>
            <link>https://8loser.github.io/2023/02/19/newbie-guide/</link>
            <category term="Need to Know" scheme="https://8loser.github.io/categories/Need-to-Know/" />
            <category term="Story" scheme="https://8loser.github.io/tags/Story/" />
            <pubDate>Sun, 19 Feb 2023 15:04:11 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;æ–°æ‰‹æŒ‡å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–°æ‰‹æŒ‡å—&#34;&gt;#&lt;/a&gt; æ–°æ‰‹æŒ‡å—&lt;/h1&gt;
&lt;p&gt;é€™æ˜¯ä¸€ç¯‡æ–°æ‰‹é€²å…¬å¸å¾Œæ•´ç†å…§éƒ¨é–‹ç™¼æµç¨‹çš„ &lt;s&gt;äº‹æ•…&lt;/s&gt; æ•…äº‹&lt;/p&gt;
&lt;h1 id=&#34;è¦æœ‰å…‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¦æœ‰å…‰&#34;&gt;#&lt;/a&gt; è¦æœ‰å…‰&lt;/h1&gt;
&lt;p&gt;ä¸Šç­ç¬¬ä¸€å¤©ï¼Œè¦ç·Šé ­ä¸€ä»¶äº‹å°±æ˜¯ &lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;èªæ¸…è‡ªå·±åœ¨é£Ÿç‰©éˆä¸­çš„ä½ç½®&lt;/span&gt; ç†Ÿæ‚‰é–‹ç™¼ç’°å¢ƒï¼Œç›®å‰å…¬å¸é–‹ç™¼åˆ°ä½ˆç½²çš„æµç¨‹æ˜¯åŸå§‹ç¢¼åœ¨æ¯å€‹äººçš„ç’°å¢ƒéƒ½æœ‰ä¸€ä»½ï¼Œå¦‚æœæœ‰ä¿®æ”¹å†å‚³ä¿®æ”¹çš„æª”æ¡ˆçµ¦çŸ¥é“æ€éº¼ä½ˆç½²çš„äººå»ä½ˆç½²ï¼Œé€™æ–¹å¼æœ‰æ™‚å¾Œæœƒæ¼æ‰æª”æ¡ˆï¼Œä¹Ÿå¾ˆé›£ææ¸…å“ªå€‹æ‰æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ç¨‹å¼ã€‚è€Œä¸”æ¯å€‹äººé–‹ç™¼ç’°å¢ƒä¸åŒï¼Œå‰›æ‹¿åˆ°å°ˆæ¡ˆåŸå§‹ç¢¼æ™‚å•Ÿå‹•å¤±æ•—ï¼ŒåŒå­¸æœƒæ•™æˆ‘ä¸€äº›å¥‡è¨ˆæ·«å·§è‡³ä»Šä»¤æˆ‘åŒªå¤·æ‰€æ€çš„æ–¹æ³•ï¼ˆç‚ºä»€éº¼è¦ä¿®æ”¹ node_modules å…§çš„æª”æ¡ˆï¼Ÿï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¹çš„æª”æ¡ˆæ˜¯æœ€æ–°ç‰ˆçš„å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;è¦†è“‹åˆ¥äººçµ¦çš„æª”æ¡ˆå¾Œï¼ŒåŸæœ¬æ”¹å¥½çš„ç¨‹å¼ä¸è¦‹äº†ã€‚&lt;/li&gt;
&lt;li&gt;ä½ çµ¦çš„æª”æ¡ˆç„¡æ³•åŸ·è¡Œï¼Œèªªæœ‰ç¼ºå°‘ functionã€‚&lt;/li&gt;
&lt;li&gt;ã€å¯ä»¥åªçµ¦æä¾›ä¿®æ”¹çš„ function å—ï¼Ÿã€ã€Œæˆ‘å…¶å¯¦ä¹Ÿä¸å¤ªç¢ºå®šè€¶ï¼Œé‚„æ˜¯ä½ æ•´å€‹è²¼ä¸Šå¾Œè©¦è©¦çœ‹æœ‰æ²’æœ‰éŒ¯èª¤ã€&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ–°æ‰‹æ‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–°æ‰‹æ‘&#34;&gt;#&lt;/a&gt; æ–°æ‰‹æ‘&lt;/h1&gt;
&lt;p&gt;æ‘é•·è·Ÿæˆ‘ä»‹ç´¹æ‘å­å…§ NPC çš„åŠŸèƒ½ï¼Œé‚„æœ‰ server çš„ä½ˆç½²æ–¹å¼ï¼Œç¨‹å¼ç¢¼ä¸Šå‚³åˆ° GCP linux VM å¾Œä½¿ç”¨ docker build æˆ imageï¼Œå†ä½¿ç”¨ docker compose å•Ÿå‹•å¤šå€‹ container é‹è¡Œæœå‹™ã€‚æœ‰å…©å€‹ VM æ¯å€‹ VM éƒ½æœ‰ 5 å€‹ containerï¼Œé™¤äº†å‰ç«¯ã€å¾Œç«¯ç¨‹å¼å¤–é‚„æœ‰ä¸²æ¥å…¶ä»–æœå‹™ï¼Œä½¿ç”¨çš„ç¨‹å¼èªè¨€æœ‰ Vue.js, Node.js, .NET Core ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç¨‹å¼ä¸€è‡´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¨‹å¼ä¸€è‡´&#34;&gt;#&lt;/a&gt; ç¨‹å¼ä¸€è‡´&lt;/h1&gt;
&lt;p&gt;ç‚ºäº†è§£æ±ºç¨‹å¼ç¢¼åŒæ­¥å•é¡Œï¼ŒæŒ‘äº†å¯ä»¥å…è²» private è¨—ç®¡çš„ç‰ˆæœ¬æ§åˆ¶æœå‹™ï¼ŒåŒå­¸å¯ä»¥é ç«¯ä¸Šå‚³ç¨‹å¼ç¢¼ï¼Œå…¶ä»–äººä¹Ÿå¯ä»¥åŒæ­¥ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li class=&#34;quiz&#34;&gt;ä½¿ç”¨çš„æœå‹™ç‚º &lt;span class=&#34;gap&#34;&gt;&lt;/span&gt; ã€‚
&lt;ul class=&#34;options&#34;&gt;
&lt;li class=&#34;correct&#34;&gt;GitHub&lt;/li&gt;
&lt;li&gt;PornHub&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç‚ºä»€éº¼è¦é¸ GitHub è€Œä¸æ˜¯ &lt;s&gt;PornHub&lt;/s&gt; GitLabï¼Ÿå¿˜è¨˜äº†ï¼Œå¥½åƒè·Ÿ CI/CD çš„å…è²»é …ç›®æœ‰é—œã€‚é›£çš„ä¸æ˜¯é¸æ“‡ä½¿ç”¨çš„ç‰ˆæ§æœå‹™ï¼Œè€Œæ˜¯è¦ä¸Šå‚³å“ªäº›ç¨‹å¼ç¢¼ï¼Ÿé€šå¸¸åœ¨ server ä¸Šé‹è¡Œçš„å°±æ˜¯æœ€æ–°çš„ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨ &lt;a href=&#34;https://winscp.net/&#34;&gt;WinSCP&lt;/a&gt; æŠ“ä¸‹ä¾†å¾Œç•¶ä½œåŸºæº–ï¼Œå› ç‚ºå…¶ä»–åŒå­¸é‚„æœ‰æ”¹åˆ°ä¸€åŠæœªä¸Šå‚³çš„ç¨‹å¼ç¢¼ï¼Œæ‰€ä»¥ä¹Ÿæ”¶é›†å…¶ä»–åŒå­¸çš„ç¨‹å¼ç¢¼é€²è¡Œæ•´ç†åˆä½µã€‚æ•´ç†æ™‚ç™¼ç¾ä¸æ˜¯æ¯å€‹äººçš„é–‹ç™¼ç’°å¢ƒè¨­ç½®éƒ½ä¸€æ¨£ï¼Œæœ‰çš„äººç”¨ Windows æœ‰çš„äººç”¨ Macã€‚&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;links&#34;&gt;&lt;div class=&#34;item&#34; title=&#34;WinSCP&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://winscp.net/&#34; class=&#34;image&#34; data-background-image=&#34;https://winscp-static-746341.c.cdn77.org/assets/images/logos/logo.png?v=7008&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://winscp.net/&#34; class=&#34;title&#34;&gt;WinSCP&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://winscp.net/&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç’°å¢ƒä¸€è‡´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒä¸€è‡´&#34;&gt;#&lt;/a&gt; ç’°å¢ƒä¸€è‡´&lt;/h1&gt;
&lt;p&gt;é›–ç„¶ç¨‹å¼ç¢¼ä¸€è‡´äº†ï¼Œä½†ç›¸åŒçš„ç¨‹å¼ç¢¼åœ¨ä¸åŒé–‹ç™¼ç’°å¢ƒå»æœƒå‡ºç¾ç•°å¸¸ï¼Œ&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;ä½ å°±ç”¨ node 14 å°±å¥½äº†é˜¿ï¼Œæ²’äº‹å¹¹éº»å‡ç´šè‡ªæ‰¾éº»ç…© ğŸ˜’&lt;/span&gt; æ‰€ä»¥é–‹ç™¼ç’°å¢ƒä¹Ÿè¦ä¸€è‡´ã€‚æœ€ç°¡å–®çš„æ–¹æ³•æ˜¯å¤§å®¶éƒ½è£ç›¸åŒçš„ node ç‰ˆæœ¬ï¼Œå‡¡æ˜¯éƒ½æœ‰å€‹ BUTï¼Œå…¨éƒ¨çš„å°ˆæ¡ˆä½¿ç”¨çš„ node ä¸¦ä¸æ˜¯ç›¸åŒç‰ˆæœ¬ï¼Œè€Œä¸”ä¸æ˜¯æ¯å€‹äººéƒ½æœƒç”¨ &lt;a href=&#34;https://github.com/nvm-sh/nvmNVM&#34;&gt;NVM&lt;/a&gt;ã€‚&lt;br /&gt;
é›–ç„¶æœ‰çš„äººç”¨ Mac æœ‰çš„äººç”¨ Windowsï¼Œä½†æ˜¯å¤§å®¶éƒ½æ˜¯ç”¨ Visual Studio Codeï¼Œæ‰€ä»¥æŠŠå…¨éƒ¨çš„å°ˆæ¡ˆéƒ½åŠ ä¸Š &lt;a href=&#34;https://code.visualstudio.com/docs/devcontainers/tutorial&#34;&gt;Dev Containers&lt;/a&gt;ï¼Œä¹‹å¾Œæ‰€æœ‰äººé–‹ç™¼çš„æ™‚å€™ï¼Œéƒ½ä½¿ç”¨ &lt;a href=&#34;https://code.visualstudio.com/docs/devcontainers/tutorial&#34;&gt;Dev Containers&lt;/a&gt; é€²å…¥ container é€²è¡Œé–‹ç™¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;links&#34;&gt;&lt;div class=&#34;item&#34; title=&#34;visual Studio Code&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://code.visualstudio.com/docs/devcontainers/containers&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://code.visualstudio.com/docs/devcontainers/containers&#34; class=&#34;title&#34;&gt;Developing inside a Container&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://code.visualstudio.com/docs/devcontainers/containers&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;item&#34; title=&#34;å…«æ¨“çš„äºº&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;/2022/05/13/Remote-Containers/&#34; class=&#34;image&#34; data-background-image=&#34;/assets/avatar.jpg&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;/2022/05/13/Remote-Containers/&#34; class=&#34;title&#34;&gt;ä½¿ç”¨ VSCode åœ¨ Docker container å…§é€²è¡Œé–‹ç™¼&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;/2022/05/13/Remote-Containers/&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h1 id=&#34;docker-image-auto-build&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-image-auto-build&#34;&gt;#&lt;/a&gt; Docker image auto build&lt;/h1&gt;
&lt;p&gt;ä¸Šé¢æåˆ°ç¨‹å¼æœ€å¾Œéƒ½åœ¨ server ä¸Š build image å¾Œï¼Œä½¿ç”¨ docker compose å»ºç«‹ container åŸ·è¡Œã€‚ &lt;ins&gt;ä½ çµ‚ç©¶è¦ image çš„é‚£ç‚ºä»€éº¼ä¸ä¸€é–‹å§‹å°± imageï¼Ÿ&lt;/ins&gt; æ‰€ä»¥æŠŠæ¯å€‹å°ˆæ¡ˆéƒ½åŠ ä¸Š &lt;a href=&#34;https://docs.github.com/en/actions/quickstart&#34;&gt;GitHub Action&lt;/a&gt;ï¼Œå¼•ç”¨åŸæœ¬å°±æœ‰çš„ Dockerfile ä¿®æ”¹ï¼Œç¨‹å¼ä¸Šå‚³å¾Œæœƒè‡ªå‹•æ‰“åŒ…æˆ docker image ä¸” push åˆ° &lt;a href=&#34;https://docs.github.com/en/packages/learn-github-packages/introduction-to-github-packages&#34;&gt;GitHub Package&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ GitHub Action ä½¿ç”¨ä¸‹é¢çš„ ymlï¼Œç¨‹å¼ç¢¼ä¸Šå‚³åˆ° GitHub å¾Œæœƒè‡ªå‹•æ‰“åŒ…æˆ docker image&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://gist.github.com/8loser/4f78378d21358e8d4174bb9e8d872af3&#34;&gt;Gist Auto build docker image yml&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¨­å®šæˆåŠŸ push ç¨‹å¼ç¢¼å¾Œå¯ä»¥åœ¨ GitHub Action çœ‹åˆ°åŸ·è¡Œå‹•ä½œ&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;github-action.png&#34; alt=&#34;GitHub Action&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;links&#34;&gt;&lt;div class=&#34;item&#34; title=&#34;Quickstart for GitHub Actions&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://docs.github.com/en/actions/quickstart&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://docs.github.com/en/actions/quickstart&#34; class=&#34;title&#34;&gt;Quickstart for GitHub Actions&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://docs.github.com/en/actions/quickstart&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;item&#34; title=&#34;docker/build-push-action&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://github.com/docker/build-push-action&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://github.com/docker/build-push-action&#34; class=&#34;title&#34;&gt;docker/build-push-action&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://github.com/docker/build-push-action&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h1 id=&#34;docker-ç®¡ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-ç®¡ç†&#34;&gt;#&lt;/a&gt; Docker ç®¡ç†&lt;/h1&gt;
&lt;p&gt;é‘‘æ–¼ä¸æ˜¯æ‰€æœ‰åŒå­¸éƒ½ç¿’æ…£ç”¨ linuxï¼Œæ‰€ä»¥åœ¨ server è£ä¸Š &lt;a href=&#34;https://www.portainer.io&#34;&gt;portainer&lt;/a&gt;ï¼Œå¯ä»¥ä½¿ç”¨ Web ç•Œé¢æ§åˆ¶ server ä¸Šçš„ dockerã€‚ä¸€å¤©åˆå¹³å®‰çš„éå»äº†ï¼Œæ„Ÿè¬é£›å¤©å°å¥³è­¦çš„åŠªåŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;links&#34;&gt;&lt;div class=&#34;item&#34; title=&#34;Install Portainer CE with Docker on Linux&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://docs.portainer.io/start/install-ce/server/docker/linux&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://docs.portainer.io/start/install-ce/server/docker/linux&#34; class=&#34;title&#34;&gt;Install Portainer CE with Docker on Linux&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://docs.portainer.io/start/install-ce/server/docker/linux&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h1 id=&#34;è‡ªå‹•ä½ˆç½²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªå‹•ä½ˆç½²&#34;&gt;#&lt;/a&gt; è‡ªå‹•ä½ˆç½²&lt;/h1&gt;
&lt;p&gt;å‡ºç¾ bug æ€¥è‘—ä¿®æ­£çš„æ™‚å€™ï¼Œå¯èƒ½ä¸€å¤©è¦ä¸Šå‚³ç¨‹å¼åˆ° server å…«ç™¾æ¬¡ï¼Œä½†ä¸æ˜¯æ‰€æœ‰äººéƒ½çŸ¥é“æ€éº¼æ›´æ–°åˆ° serverï¼Œ&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;æ‰€ä»¥ç¶­é‹çš„åŒå­¸è¦å¤šé«”è«’å·¥ç¨‹å¸«&lt;/span&gt; æ‰€ä»¥åœ¨ portainer é–‹å•Ÿ swarm åŠŸèƒ½å¾Œï¼Œservice å°±å¯ä»¥å•Ÿç”¨ webhook æ¥æ”¶æ›´æ–°é€šçŸ¥ï¼Œæ”¶åˆ°é€šçŸ¥å¾Œè‡ªå‹• pull æ–°çš„ docker image é€²è¡Œä½ˆç½²ï¼Œä¸çŸ¥é“æ€éº¼ä½ˆç½²çš„äººå¯ä»¥  &lt;code&gt;POST&lt;/code&gt;  å‘¼å« webhook é€²è¡Œ service æ›´æ–°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;span&gt;é–‹å•Ÿ docker swarm æ–¹æ³•&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm init&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¨­å®šå®Œæˆå¾Œå¯ä»¥åœ¨ portainer é¸å–®çœ‹åˆ° service é …ç›®&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;portainer-menu.png&#34; alt=&#34;portainer menu&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€²å…¥ service å¯ä»¥é–‹å•Ÿ  &lt;code&gt;Service webhook&lt;/code&gt; ï¼Œç”¢ç”Ÿçš„ç¶²å€å°±æ˜¯ç”¨ä¾†æ¥æ”¶é€šçŸ¥æ‹‰å–æ–° image é‡æ–°ä½ˆç½²çš„&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;portainer-service.png&#34; alt=&#34;portainer service&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ›´æ–° service é‚„è¦å‘¼å« webhook æœ‰é»éº»ç…©ï¼Œå°±äº¤çµ¦ GitHub Action å§ï¼&lt;br /&gt;
åœ¨ GitHub Action åŠ å…¥ä¸‹é¢è¨­å®šå¾Œï¼Œæ¯æ¬¡ push/pull_request (æ ¹æ“š main.yml è¨­å®š) å°±æœƒè‡ªå‹•æ›´æ–°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;å‘¼å« webhook é€²è¡Œæ›´æ–°&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Call webhook update service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;uses&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; muinmomin/webhook&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;action@v1.0.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;with&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# è¦é€šçŸ¥çš„ webhook URL&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;div class=&#34;links&#34;&gt;&lt;div class=&#34;item&#34; title=&#34;portainer.io&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://docs.portainer.io/user/docker/services/webhooks#enabling-a-service-webhook&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://docs.portainer.io/user/docker/services/webhooks#enabling-a-service-webhook&#34; class=&#34;title&#34;&gt;Enabling a service webhook&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://docs.portainer.io/user/docker/services/webhooks#enabling-a-service-webhook&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;item&#34; title=&#34;muinmomin/webhook-action&#34; style=&#34;--block-color:#e9546b;&#34;&gt;&lt;a href=&#34;https://github.com/muinmomin/webhook-action&#34; class=&#34;image&#34; data-background-image=&#34;/assets/404.png&#34;&gt;&lt;/a&gt;
        &lt;div class=&#34;info&#34;&gt;
        &lt;a href=&#34;https://github.com/muinmomin/webhook-action&#34; class=&#34;title&#34;&gt;muinmomin/webhook-action&lt;/a&gt;
        &lt;p class=&#34;desc&#34;&gt;https://github.com/muinmomin/webhook-action&lt;/p&gt;
        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ­£å¼ç«™æ¸¬è©¦ç«™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­£å¼ç«™æ¸¬è©¦ç«™&#34;&gt;#&lt;/a&gt; æ­£å¼ç«™ / æ¸¬è©¦ç«™&lt;/h1&gt;
&lt;p&gt;ç•¶æ¥­å‹™å¤–å‡ºè·Ÿå®¢æˆ¶å±•ç¤ºç³»çµ±åŠŸèƒ½æ™‚ï¼Œå¦‚æœç¶²ç«™ä¸€ç›´æ›´æ–°é‡å•Ÿæœå‹™ä¸­æ–·ï¼Œåœ¨å®¢æˆ¶ç«¯çš„åŒå­¸æœƒå¾ˆå°·å°¬ï¼Œ&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“å¾—å¤ªå¤šäº†&#34;&gt;æ‰€ä»¥æœ‰æ¥­å‹™åœ¨å¤–å±•ç¤ºæ™‚å·¥ç¨‹å¸«å¯ä»¥æ”¾å‡&lt;/span&gt; æ‰€ä»¥æŠŠç·šä¸Šç³»çµ±åˆ†ç‚ºæ­£å¼ç«™è·Ÿæ¸¬è©¦ç«™ã€‚&lt;/p&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_0&#34; checked=&#34;true&#34; disabled=&#34;true&#34; /&gt;&lt;label for=&#34;cbx_0&#34;&gt; GCP VM å…©å°è®Šå››å°&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_1&#34; checked=&#34;true&#34; disabled=&#34;true&#34; /&gt;&lt;label for=&#34;cbx_1&#34;&gt; è¨­å®šæ¸¬è©¦ç«™ subdomain&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_2&#34; checked=&#34;true&#34; disabled=&#34;true&#34; /&gt;&lt;label for=&#34;cbx_2&#34;&gt; GitHub è¨­å®š main/test å…©å€‹åˆ†æ”¯&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_3&#34; checked=&#34;true&#34; disabled=&#34;true&#34; /&gt;&lt;label for=&#34;cbx_3&#34;&gt; GitHub Action è¨­å®šåªæœ‰ test åˆ†æ”¯ push æ™‚æ‰è‡ªå‹•æ›´æ–°åˆ°æ¸¬è©¦ç«™&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_4&#34; disabled=&#34;true&#34; /&gt;&lt;label for=&#34;cbx_4&#34;&gt; ä½ å‡è·ï¼Œæˆ‘åŠ è–ªï¼Œå¤§å®¶é–‹é¦™æª³ï½ï¼¹ï¼¡&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;Love-on-Delivery.gif&#34; alt=&#34;ç ´å£ä¹‹ç‹&#34; /&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/02/11/redis-cluster/</guid>
            <title>GKE ä½ˆç½² Redis å¢é›†</title>
            <link>https://8loser.github.io/2023/02/11/redis-cluster/</link>
            <category term="Redis" scheme="https://8loser.github.io/tags/Redis/" />
            <category term="GKE" scheme="https://8loser.github.io/tags/GKE/" />
            <category term="Kubernetes" scheme="https://8loser.github.io/tags/Kubernetes/" />
            <pubDate>Sat, 11 Feb 2023 18:07:24 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;p&gt;åœ¨ &lt;a href=&#34;https://cloud.google.com/kubernetes-engine?hl=zh-tw&#34;&gt;Google Kubernetes Engine (GKE)&lt;/a&gt; å…§å»ºç½® Redis å¢é›†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GKE node: g1-small * 2 (version 1.24.8-gke.2000)&lt;/li&gt;
&lt;li&gt;Redis 7&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å»ºç«‹-configmap&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-configmap&#34;&gt;#&lt;/a&gt; å»ºç«‹ ConfigMap&lt;/h1&gt;
&lt;p&gt;å»ºç«‹çµ¦ redis ç¯€é»ä½¿ç”¨çš„å…±ç”¨è¨­å®šæª”ï¼Œåç¨±ç‚º  &lt;code&gt;redis-cluster&lt;/code&gt; ï¼Œä¹‹å¾Œå»ºç«‹ç‚º volume è®“æ¯å€‹å®¹å™¨ä½¿ç”¨&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;ConfigMap&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; v1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; ConfigMap&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;update-node.sh&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token scalar string&#34;&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    #!/bin/sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    REDIS_NODES=&#34;/data/nodes.conf&#34;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    sed -i -e &#34;/myself/ s/[0-9]\&amp;#123;1,3\&amp;#125;\.[0-9]\&amp;#123;1,3\&amp;#125;\.[0-9]\&amp;#123;1,3\&amp;#125;\.[0-9]\&amp;#123;1,3\&amp;#125;/$&amp;#123;POD_IP&amp;#125;/&#34; $&amp;#123;REDIS_NODES&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    exec &#34;$@&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;redis.conf&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;+&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    cluster&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;enabled yes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    cluster&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;require&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;full&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;coverage no&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    cluster&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;node&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;timeout 15000&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    cluster&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;config&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;file /data/nodes.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    cluster&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;migration&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;barrier 1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    appendonly yes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    protected&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;mode no&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å»ºç«‹æˆåŠŸå¾Œå¯ä»¥åœ¨ GKE ç•Œé¢çš„  &lt;code&gt;Secretèˆ‡ConfigMap&lt;/code&gt;  å…§çœ‹åˆ°æ–°å¢çš„  &lt;code&gt;redis-cluster&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;gke-configmap.png&#34; alt=&#34;ConfigMap&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;å»ºç«‹-statefulset&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-statefulset&#34;&gt;#&lt;/a&gt; å»ºç«‹ StatefulSet&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;StatefulSet éœ€è¦ä½¿ç”¨ Kubernetes v1.9 æˆ–ä¹‹å¾Œçš„ç‰ˆæœ¬æ‰æ”¯æ´&lt;/li&gt;
&lt;li&gt;.spec.selector.matchLabels è¦è·Ÿ .spec.template.metadata.labels ç›¸åŒ&lt;/li&gt;
&lt;li&gt;.spec.replicas è‡³å°‘è¦ 6 å€‹ï¼Œredis cluster è‡³å°‘è¦ 6 å€‹ç¯€é»ï¼›3 å€‹ master, 3 å€‹ slave, ä¸éé‚„æ²’æŸ¥åˆ°ç‚ºä»€éº¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åƒè€ƒæ–‡ç« åœ¨ .spec.selector.template.spec.containers.volumes.defaultMode æ˜¯å¯«  &lt;code&gt;0755&lt;/code&gt;  (å…«é€²ä½)ï¼Œä½†æ˜¯æˆ‘åœ¨ Lens å…§åŸ·è¡Œæ™‚æœƒå‡ºç¾ä¸‹é¢éŒ¯èª¤ï¼Œæ‰€ä»¥æ”¹æˆåé€²ä½çš„  &lt;code&gt;493&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;note warning&#34;&gt;
&lt;p&gt;create Pod redis-cluster-0 in StatefulSet redis-cluster failed error: Pod &amp;quot;redis-cluster-0&amp;quot; is invalid: [spec.volumes[1].configMap.defaultMode: Invalid value: 755: must be a number between 0 and 0777 (octal), both inclusive, spec.containers[0].volumeMounts[0].name: Not found: &amp;quot;conf&amp;quot;]&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;å®Œæ•´ yaml&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;StatefulSet&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; apps/v1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; StatefulSet&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;serviceName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;replicas&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# by default is 1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;matchLabels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster &lt;span class=&#34;token comment&#34;&gt;# has to match .spec.template.metadata.labels&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster &lt;span class=&#34;token comment&#34;&gt;# has to match .spec.selector.matchLabels&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; client&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;16379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gossip&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/conf/update-node.sh&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;redis-server&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/conf/redis.conf&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; POD_IP&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;valueFrom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token key atrule&#34;&gt;fieldRef&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;              &lt;span class=&#34;token key atrule&#34;&gt;fieldPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; status.podIP&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;volumeMounts&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;mountPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;readOnly&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; data&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;mountPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /data&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;readOnly&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;configMap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token comment&#34;&gt;# defaultMode: 0755&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;defaultMode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;493&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;volumeClaimTemplates&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; data&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;accessModes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ReadWriteOnce&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;resources&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1Gi&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åŸ·è¡Œå®Œç­‰ä¸€ä¸‹&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;Let_the_Bullets_Fly.png&#34; alt=&#34;è®“å­å½ˆé£›ä¸€æœƒå…’&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å¾Œå¯ä»¥åœ¨ GKE çš„  &lt;code&gt;å·¥ä½œè² è¼‰&lt;/code&gt;  å…§çœ‹åˆ° 6 å€‹ Pod å»ºç«‹å®Œæˆ&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;gke-stateful.png&#34; alt=&#34;Pods&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å„²å­˜ç©ºé–“&lt;/code&gt;  ä¹Ÿæœƒç”¢ç”Ÿ 6 å€‹ PVC (PersistentVolumeClaim)&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;gke-pvc.png&#34; alt=&#34;PVC&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…ä½¿ç”¨æŒ‡ä»¤æŸ¥çœ‹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;span&gt;kubectl get pods&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ kubectl get pods&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;NAME              READY   STATUS    RESTARTS   AGE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-0   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          8m31s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-1   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          8m19s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-2   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          8m7s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-3   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          7m56s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-4   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          7m39s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-5   &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;          7m28s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;span&gt;kubectl get pv&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ kubectl get &lt;span class=&#34;token function&#34;&gt;pv&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                          STORAGECLASS   REASON   AGE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-01fc7eb6-e99a-4111-8923-53229eb112b4   1Gi        RWO            Delete           Bound    default/data-redis-cluster-1   standard-rwo            21m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-4bc387e4-dd4c-4400-b99a-e75a720e509b   1Gi        RWO            Delete           Bound    default/data-redis-cluster-2   standard-rwo            21m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-af768f00-7889-4fa5-9ef8-cb95337ef38a   1Gi        RWO            Delete           Bound    default/data-redis-cluster-5   standard-rwo            20m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-b6dadea9-b10e-42cb-8ae4-729b186e8b7c   1Gi        RWO            Delete           Bound    default/data-redis-cluster-0   standard-rwo            21m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-c42ebfa4-a726-42f5-b146-18c28de544a4   1Gi        RWO            Delete           Bound    default/data-redis-cluster-4   standard-rwo            20m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pvc-d1d4de96-2f91-4050-9707-8fd802bd7fb4   1Gi        RWO            Delete           Bound    default/data-redis-cluster-3   standard-rwo            21m&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å»ºç«‹-service&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-service&#34;&gt;#&lt;/a&gt; å»ºç«‹ Service&lt;/h1&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;span&gt;Service&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; v1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;targetPort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; client&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;16379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;targetPort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;16379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gossip&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; redis&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åŸ·è¡Œå®Œæª¢æŸ¥ Service  &lt;code&gt;redis-cluster&lt;/code&gt;  æ˜¯å¦æˆåŠŸå»ºç«‹&lt;br /&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;gke-service.png&#34; alt=&#34;service&#34; /&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;span&gt;kubectl get service redis-cluster&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ kubectl get &lt;span class=&#34;token function&#34;&gt;service&lt;/span&gt; redis-cluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;NAME            TYPE        CLUSTER-IP    EXTERNAL-IP   PORT&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;S&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;              AGE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster   ClusterIP   &lt;span class=&#34;token number&#34;&gt;10.80&lt;/span&gt;.5.184   &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;        &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;/TCP,16379/TCP   2m50s&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å»ºç«‹-redis-å¢é›†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-redis-å¢é›†&#34;&gt;#&lt;/a&gt; å»ºç«‹ Redis å¢é›†&lt;/h1&gt;
&lt;p&gt;åƒè€ƒçš„æ–‡ç« ä½¿ç”¨çš„æŒ‡ä»¤å¦‚ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;span&gt;create redis-cluster&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;kubectl &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; redis-cluster-0 -- redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;--cluster&lt;/span&gt; create --cluster-replicas &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;kubectl get pods &lt;span class=&#34;token parameter variable&#34;&gt;-l&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;redis-cluster &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&amp;#123;range.items[*]&amp;#125;&amp;#123;.status.podIP&amp;#125;:6379 &#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯¦éš›å¯¦è¡Œçµæœæœƒå‡ºç¾å¦‚ä¸‹éŒ¯èª¤&lt;/p&gt;
&lt;div class=&#34;note danger&#34;&gt;
&lt;p&gt;kubectl exec -it redis-cluster-0 -- redis-cli --cluster create --cluster-replicas 1 $(kubectl get pods -l app=redis-cluster -o jsonpath=&#39;{range.items[*]}{.status.podIP}:6379 &#39;)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;æŸ¥çœ‹åŸå› æ˜¯  &lt;code&gt;kubectl get pods -l app=redis-cluster -o jsonpath=&#39;&amp;#123;range.items[*]&amp;#125;&amp;#123;.status.podIP&amp;#125;&lt;/code&gt;  æœƒå¤šä¸€çµ„ç©ºçš„ IP&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ kubectl get pods &lt;span class=&#34;token parameter variable&#34;&gt;-l&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;redis-cluster &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&amp;#123;range.items[*]&amp;#125;&amp;#123;.status.podIP&amp;#125;:6379 &#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.30:6379 &lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.32:6379 &lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.31:6379 &lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.33:6379 &lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.32:6379 &lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.34:6379 :6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤æŸ¥çœ‹æ¯”è¼ƒæ˜é¡¯&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ kubectl get pods &lt;span class=&#34;token parameter variable&#34;&gt;-l&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;redis-cluster &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&amp;#123;range.items[*]&amp;#125;&amp;#123;.status.podIP&amp;#125;:6379&amp;#123;&#34;\n&#34;&amp;#125;&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.30:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.32:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.31:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.33:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.2.32:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;10.76&lt;/span&gt;.1.34:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¿®æ”¹å¾ŒæŒ‡ä»¤å¦‚ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;kubectl &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; redis-cluster-0 -- redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;--cluster&lt;/span&gt; create --cluster-replicas &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;kubectl get pods &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;jsonpath&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&amp;#123;range .items[*]&amp;#125;&amp;#123;.status.podIP&amp;#125;:6379 &amp;#123;end&amp;#125;&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;code&gt;Can I set the above configuration?&lt;/code&gt;  è¼¸å…¥  &lt;code&gt;yes&lt;/code&gt; ï¼ŒåŸ·è¡Œçµæœå¯ä»¥çœ‹åˆ°å»ºç«‹äº† 3 å€‹ redis master ç¯€é»ï¼Œ3 å€‹ slave ç¯€é»ã€‚&lt;/p&gt;
&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;åŸ·è¡Œçµæœ&lt;/summary&gt;&lt;div&gt;
&lt;p&gt;$ kubectl exec -it redis-cluster-0 -- redis-cli --cluster create --cluster-replicas 1 $(kubectl get pods -o=jsonpath=&#39;{range .items[*]}{.status.podIP}:6379 {end}&#39;)&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Performing hash slots allocation on 6 nodes...&lt;br /&gt;
Master[0] -&amp;gt; Slots 0 - 5460&lt;br /&gt;
Master[1] -&amp;gt; Slots 5461 - 10922&lt;br /&gt;
Master[2] -&amp;gt; Slots 10923 - 16383&lt;br /&gt;
Adding replica 10.76.2.32:6379 to 10.76.2.30:6379&lt;br /&gt;
Adding replica 10.76.1.34:6379 to 10.76.1.32:6379&lt;br /&gt;
Adding replica 10.76.1.33:6379 to 10.76.2.31:6379&lt;br /&gt;
M: 05ecf3912ed0a5517ab74fd17f81d02a3314a833 10.76.2.30:6379&lt;br /&gt;
slots:[0-5460] (5461 slots) master&lt;br /&gt;
M: 9da23852cfd0a7489c2f53ec743363e48dea378b 10.76.1.32:6379&lt;br /&gt;
slots:[5461-10922] (5462 slots) master&lt;br /&gt;
M: 379127b6974b6acc59e5fb194361749e682bdc97 10.76.2.31:6379&lt;br /&gt;
slots:[10923-16383] (5461 slots) master&lt;br /&gt;
S: 5105cdd3a6637e3844316c557f81c68b231703e7 10.76.1.33:6379&lt;br /&gt;
replicates 379127b6974b6acc59e5fb194361749e682bdc97&lt;br /&gt;
S: dde0a9ef27e044cd124814529305732c9ab0d9dd 10.76.2.32:6379&lt;br /&gt;
replicates 05ecf3912ed0a5517ab74fd17f81d02a3314a833&lt;br /&gt;
S: 8a89a45f3161b606b13f1ede95fec240de2bcf9d 10.76.1.34:6379&lt;br /&gt;
replicates 9da23852cfd0a7489c2f53ec743363e48dea378b&lt;br /&gt;
Can I set the above configuration? (type &#39;yes&#39; to accept): yes&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Nodes configuration updated&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Assign a different config epoch to each node&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Sending CLUSTER MEET messages to join the cluster&lt;br /&gt;
Waiting for the cluster to join&lt;/p&gt;
&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; Performing Cluster Check (using node 10.76.2.30:6379)&lt;br /&gt;
M: 05ecf3912ed0a5517ab74fd17f81d02a3314a833 10.76.2.30:6379&lt;br /&gt;
slots:[0-5460] (5461 slots) master&lt;br /&gt;
1 additional replica(s)&lt;br /&gt;
S: dde0a9ef27e044cd124814529305732c9ab0d9dd 10.76.2.32:6379&lt;br /&gt;
slots: (0 slots) slave&lt;br /&gt;
replicates 05ecf3912ed0a5517ab74fd17f81d02a3314a833&lt;br /&gt;
S: 5105cdd3a6637e3844316c557f81c68b231703e7 10.76.1.33:6379&lt;br /&gt;
slots: (0 slots) slave&lt;br /&gt;
replicates 379127b6974b6acc59e5fb194361749e682bdc97&lt;br /&gt;
M: 379127b6974b6acc59e5fb194361749e682bdc97 10.76.2.31:6379&lt;br /&gt;
slots:[10923-16383] (5461 slots) master&lt;br /&gt;
1 additional replica(s)&lt;br /&gt;
M: 9da23852cfd0a7489c2f53ec743363e48dea378b 10.76.1.32:6379&lt;br /&gt;
slots:[5461-10922] (5462 slots) master&lt;br /&gt;
1 additional replica(s)&lt;br /&gt;
S: 8a89a45f3161b606b13f1ede95fec240de2bcf9d 10.76.1.34:6379&lt;br /&gt;
slots: (0 slots) slave&lt;br /&gt;
replicates 9da23852cfd0a7489c2f53ec743363e48dea378b&lt;br /&gt;
[OK] All nodes agree about slots configuration.&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Check for open slots...&lt;br /&gt;
&amp;gt;&amp;gt;&amp;gt; Check slots coverage...&lt;br /&gt;
[OK] All 16384 slots covered.&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;h1 id=&#34;é©—è­‰-redis-å¢é›†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é©—è­‰-redis-å¢é›†&#34;&gt;#&lt;/a&gt; é©—è­‰ Redis å¢é›†&lt;/h1&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;kubectl &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; redis-cluster-0 -- redis-cli cluster info&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;åŸ·è¡Œçµæœ&lt;/summary&gt;&lt;div&gt;
&lt;p&gt;$ kubectl exec -it redis-cluster-0 -- redis-cli cluster info&lt;br /&gt;
cluster_state:ok&lt;br /&gt;
cluster_slots_assigned:16384&lt;br /&gt;
cluster_slots_ok:16384&lt;br /&gt;
cluster_slots_pfail:0&lt;br /&gt;
cluster_slots_fail:0&lt;br /&gt;
cluster_known_nodes:6&lt;br /&gt;
cluster_size:3&lt;br /&gt;
cluster_current_epoch:6&lt;br /&gt;
cluster_my_epoch:1&lt;br /&gt;
cluster_stats_messages_ping_sent:273&lt;br /&gt;
cluster_stats_messages_pong_sent:278&lt;br /&gt;
cluster_stats_messages_sent:551&lt;br /&gt;
cluster_stats_messages_ping_received:273&lt;br /&gt;
cluster_stats_messages_pong_received:273&lt;br /&gt;
cluster_stats_messages_meet_received:5&lt;br /&gt;
cluster_stats_messages_received:551&lt;br /&gt;
total_cluster_links_buffer_limit_exceeded:0&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token for-or-select variable&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;seq&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;redis-cluster-&lt;span class=&#34;token variable&#34;&gt;$x&lt;/span&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; kubectl &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; redis-cluster-&lt;span class=&#34;token variable&#34;&gt;$x&lt;/span&gt; -- redis-cli role&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;done&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;details class=&#34;info&#34;&gt;&lt;summary&gt;åŸ·è¡Œçµæœ&lt;/summary&gt;&lt;div&gt;
&lt;p&gt;$ for x in &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&#34;false&#34;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mn&gt;05&lt;/mn&gt;&lt;mo stretchy=&#34;false&#34;&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;;&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;quot;&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;(seq 0 5); do echo &amp;quot;redis-cluster-&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;se&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;05&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.1667em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;oec&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;re&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7778em;vertical-align:-0.0833em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.02778em;&#34;&gt;er&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ’&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;x&amp;quot;; kubectl exec redis-cluster-$x -- redis-cli role; echo; done&lt;br /&gt;
redis-cluster-0&lt;br /&gt;
master&lt;br /&gt;
504&lt;br /&gt;
10.76.2.32&lt;br /&gt;
6379&lt;br /&gt;
504&lt;/p&gt;
&lt;p&gt;redis-cluster-1&lt;br /&gt;
master&lt;br /&gt;
504&lt;br /&gt;
10.76.1.34&lt;br /&gt;
6379&lt;br /&gt;
504&lt;/p&gt;
&lt;p&gt;redis-cluster-2&lt;br /&gt;
master&lt;br /&gt;
490&lt;br /&gt;
10.76.1.33&lt;br /&gt;
6379&lt;br /&gt;
490&lt;/p&gt;
&lt;p&gt;redis-cluster-3&lt;br /&gt;
slave&lt;br /&gt;
10.76.2.31&lt;br /&gt;
6379&lt;br /&gt;
connected&lt;br /&gt;
490&lt;/p&gt;
&lt;p&gt;redis-cluster-4&lt;br /&gt;
slave&lt;br /&gt;
10.76.2.30&lt;br /&gt;
6379&lt;br /&gt;
connected&lt;br /&gt;
504&lt;/p&gt;
&lt;p&gt;redis-cluster-5&lt;br /&gt;
slave&lt;br /&gt;
10.76.1.32&lt;br /&gt;
6379&lt;br /&gt;
connected&lt;br /&gt;
504&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;h1 id=&#34;yaml-æª”æ¡ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#yaml-æª”æ¡ˆ&#34;&gt;#&lt;/a&gt; YAML æª”æ¡ˆ&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/8loser/redis-sts&#34;&gt;GitHub: 8loser/redis-sts&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;åƒè€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åƒè€ƒ&#34;&gt;#&lt;/a&gt; åƒè€ƒ&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.suse.com/c/rancher_blog/deploying-redis-cluster-on-top-of-kubernetes/&#34;&gt;Deploying Redis Cluster on Top of Kubernetes February 22, 2019 | By: Rancher Admin&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2023/01/04/gcp-init/</guid>
            <title>GCP VM åˆå§‹åŒ–</title>
            <link>https://8loser.github.io/2023/01/04/gcp-init/</link>
            <category term="Linux" scheme="https://8loser.github.io/tags/Linux/" />
            <category term="Shell script" scheme="https://8loser.github.io/tags/Shell-script/" />
            <category term="GCP" scheme="https://8loser.github.io/tags/GCP/" />
            <pubDate>Wed, 04 Jan 2023 15:32:51 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ä¸»æ—¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»æ—¨&#34;&gt;#&lt;/a&gt; ä¸»æ—¨&lt;/h1&gt;
&lt;p&gt;æŠŠå°ˆæ¡ˆé‹è¡Œçš„ GCP VM ç’°å¢ƒä½ˆç½²å‹•ä½œæ•´ç†ï¼Œå»ºç«‹ shell script é€²è¡Œå¿«é€Ÿä½ˆç½²ã€‚ä½¿ç”¨ä½œæ¥­ç³»çµ±ç‚º Linux Ubuntu&lt;/p&gt;
&lt;h1 id=&#34;åŸ·è¡Œä¹‹å‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸ·è¡Œä¹‹å‰&#34;&gt;#&lt;/a&gt; åŸ·è¡Œä¹‹å‰&lt;/h1&gt;
&lt;p&gt;å…ˆåŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œåˆ‡æ›ç‚º root è§’è‰²&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;su&lt;/span&gt; -&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;è¦æ–°å¢çš„-linux-å¸³è™Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¦æ–°å¢çš„-linux-å¸³è™Ÿ&#34;&gt;#&lt;/a&gt; è¦æ–°å¢çš„ Linux å¸³è™Ÿ&lt;/h1&gt;
&lt;p&gt;æŠŠè¦æ–°å¢çš„å¸³è™Ÿã€å¯†ç¢¼ä½œç‚ºè®Šæ•¸å¯«åœ¨ script æœ€ä¸Šé¢ï¼Œç‚ºäº†çµ¦å…±åŒç¶­è­·çš„äººç™»å…¥ç”¨çš„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;ACCOUNT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;å¸³è™Ÿ&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;å¯†ç¢¼&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;github-å¸³è™Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#github-å¸³è™Ÿ&#34;&gt;#&lt;/a&gt; GitHub å¸³è™Ÿ&lt;/h1&gt;
&lt;p&gt;åŸ·è¡Œç’°å¢ƒæœƒæŠŠ docker image å¾ GitHub registry æŠ“ä¸‹ä¾†åŸ·è¡Œï¼Œæ‰€ä»¥åœ¨ script æœ€ä¸Šé¢æŠŠ GitHub æ¬Šé™è¨­å®šç‚ºè®Šæ•¸ï¼Œä¹‹å¾ŒåŸ·è¡Œè®€å–è®Šæ•¸å³å¯ã€‚å¯†ç¢¼ç‚º PATï¼ˆpersonal access tokenï¼‰ï¼Œå»ºç«‹æ–¹æ³•è«‹åƒè€ƒ &lt;a href=&#34;https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token&#34;&gt;å»ºç«‹ PAT&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;GITHUB_ACCOUNT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;githubå¸³è™Ÿ&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;GITHUB_PAT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;github PAT&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;è¨­å®šæ™‚å€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¨­å®šæ™‚å€&#34;&gt;#&lt;/a&gt; è¨­å®šæ™‚å€&lt;/h1&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;timedatectl set-timezone Asia/Taipei&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ä½œæ¥­ç³»çµ±æ›´æ–°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œæ¥­ç³»çµ±æ›´æ–°&#34;&gt;#&lt;/a&gt; ä½œæ¥­ç³»çµ±æ›´æ–°&lt;/h1&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; update &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; upgrade &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; clean &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; autoremove &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å•Ÿç”¨-google-bbr&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•Ÿç”¨-google-bbr&#34;&gt;#&lt;/a&gt; å•Ÿç”¨ Google BBR&lt;/h1&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;modprobe tcp_bbr&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;tcp_bbr&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; /etc/modules-load.d/modules.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;net.core.default_qdisc=fq&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; /etc/sysctl.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;net.ipv4.tcp_congestion_control=bbr&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; /etc/sysctl.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sysctl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;install-ops-agent&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#install-ops-agent&#34;&gt;#&lt;/a&gt; Install Ops Agent&lt;/h1&gt;
&lt;p&gt;å®‰è£ &lt;a href=&#34;https://cloud.google.com/stackdriver/docs/solutions/agents/ops-agent&#34;&gt;GCP agent&lt;/a&gt;ï¼Œå¦‚æœä¸æ˜¯ä½¿ç”¨ GCP å¯ä»¥ä¸ç”¨åŸ·è¡Œ&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-sSO&lt;/span&gt; https://dl.google.com/cloudagents/add-google-cloud-ops-agent-repo.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;bash&lt;/span&gt; add-google-cloud-ops-agent-repo.sh --also-install&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å®‰è£-docker&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£-docker&#34;&gt;#&lt;/a&gt; å®‰è£ Docker&lt;/h1&gt;
&lt;p&gt;æ‰€æœ‰å°ˆæ¡ˆéƒ½ä»¥ container å½¢å¼ä½¿ç”¨ docker compose é‹è¡Œã€‚å®‰è£ docker æ²’æ¯›ç—…ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; update&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; ca-certificates &lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; gnupg lsb-release &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; /etc/apt/keyrings&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-fsSL&lt;/span&gt; https://download.docker.com/linux/ubuntu/gpg &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; gpg &lt;span class=&#34;token parameter variable&#34;&gt;--dearmor&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; /etc/apt/keyrings/docker.gpg&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token string&#34;&gt;&#34;deb [arch=&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;dpkg --print-architecture&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;lsb_release &lt;span class=&#34;token parameter variable&#34;&gt;-cs&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt; stable&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;tee&lt;/span&gt; /etc/apt/sources.list.d/docker.list &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; /dev/null&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; update&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; docker-ce docker-ce-cli containerd.io docker-compose-plugin &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-q&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å®‰è£-portainer-with-docker-swarm&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£-portainer-with-docker-swarm&#34;&gt;#&lt;/a&gt; å®‰è£ Portainer with Docker Swarm&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ portainer ç®¡ç† containerï¼Œportainer å¾ˆæ£’ï¼Œæ˜¯ web ç•Œé¢ã€‚åŠ ä¸Š docker swarm æ˜¯ç‚ºäº†è®“ç¨‹å¼ä¸Šå‚³å¾Œå¯ä»¥é€šçŸ¥ server å» pull æ–°çš„ image è‡ªå‹•ä½ˆç½²ã€‚ &lt;code&gt;ä¸€è¨€ä¸åˆå°± CI/CD&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; volume create portainer_data&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8000&lt;/span&gt;:8000 &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9443&lt;/span&gt;:9443 &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9000&lt;/span&gt;:9000 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; portainer &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /var/run/docker.sock:/var/run/docker.sock &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; portainer_data:/data portainer/portainer-ce:latest&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm init&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å»ºç«‹-crond-docker-prune&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-crond-docker-prune&#34;&gt;#&lt;/a&gt; å»ºç«‹ crond docker-prune&lt;/h1&gt;
&lt;p&gt;æ¯å¤©è‡ªå‹•æ¸…ç† docker åƒåœ¾ï¼Œæ¯æ¬¡æ›´æ–°ç”¢ç”Ÿæ²’ç”¨çš„ imageã€cointainer å¤ªå¤šæœƒé€ æˆä¸»æ©Ÿå®¹é‡ä¸è¶³æ›æ‰ã€‚&lt;br /&gt;
&lt;s&gt;ä¸ç„¶æ¯æ¬¡æ›æ‰è€é—†éƒ½ç½µæˆ‘ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ç‚ºä»€éº¼æœ‰äººä¸€å¤©è¦ commit 600 æ¬¡&lt;/s&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; /etc/cron.daily/docker-prune &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;EOL&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#!/bin/bash&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker system prune -af&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EOL&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; ugo+x /etc/cron.daily/docker-prune&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å»ºç«‹-linux-å¸³è™Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºç«‹-linux-å¸³è™Ÿ&#34;&gt;#&lt;/a&gt; å»ºç«‹ Linux å¸³è™Ÿ&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨æœ€ä¸Šé¢è¨­å®šçš„è®Šæ•¸å»ºç«‹å¸³è™Ÿï¼Œè®“å…¶ä»–ç¶­è­·çš„åŒå­¸ç™»å…¥ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;useradd&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-c&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;update user&#34;&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&#34;token parameter variable&#34;&gt;-G&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-m&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$ACCOUNT&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token variable&#34;&gt;$ACCOUNT&lt;/span&gt;:&lt;span class=&#34;token variable&#34;&gt;$PASSWORD&lt;/span&gt;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; chpasswd&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;ç™»å…¥-docker-registry&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç™»å…¥-docker-registry&#34;&gt;#&lt;/a&gt; ç™»å…¥ Docker registry&lt;/h1&gt;
&lt;p&gt;ç™»å…¥ GitHub registry ä¹‹å¾Œ docker pull å°±ä¸ç”¨è¼¸å…¥å¯†ç¢¼ï¼Œè®šï¼&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$GITHUB_PAT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; login ghcr.io &lt;span class=&#34;token parameter variable&#34;&gt;--username&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$GITHUB_ACCOUNT&lt;/span&gt; --password-stdin&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å®Œæ•´-shell-script&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´-shell-script&#34;&gt;#&lt;/a&gt; å®Œæ•´ shell script&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/8loser/f54b673b93a2df296887c2bd6edf96e8&#34;&gt;https://gist.github.com/8loser/f54b673b93a2df296887c2bd6edf96e8&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://8loser.github.io/2022/10/21/nginx-websocket/</guid>
            <title>Nginx websocket ç„¡æ³•é€£æ¥</title>
            <link>https://8loser.github.io/2022/10/21/nginx-websocket/</link>
            <category term="Trouble" scheme="https://8loser.github.io/categories/Trouble/" />
            <category term="Nginx" scheme="https://8loser.github.io/tags/Nginx/" />
            <category term="WebSocket" scheme="https://8loser.github.io/tags/WebSocket/" />
            <pubDate>Fri, 21 Oct 2022 17:10:38 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ç’°å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç’°å¢ƒ&#34;&gt;#&lt;/a&gt; ç’°å¢ƒ&lt;/h1&gt;
&lt;p&gt;åœ¨ docker compose ä¸­ï¼Œä½¿ç”¨ nginx å°å‘ websocket åˆ° container å…§&lt;/p&gt;
&lt;h1 id=&#34;éŒ¯èª¤è¨Šæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éŒ¯èª¤è¨Šæ¯&#34;&gt;#&lt;/a&gt; éŒ¯èª¤è¨Šæ¯&lt;/h1&gt;
&lt;p&gt;websocket é€£æ¥ä¸ä¸Šï¼ŒæŸ¥çœ‹ request headers é¡¯ç¤º  &lt;code&gt;Provisional headers are shown&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;provisional_headers_are_shown.png&#34; alt=&#34;provisional headers are shown&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;solution&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#solution&#34;&gt;#&lt;/a&gt; Solution&lt;/h1&gt;
&lt;p&gt;æœå°‹è§£æ±ºæ–¹æ³•æ˜¯åœ¨ nginx.conf å…§åŠ ä¸Š&lt;/p&gt;
&lt;figure class=&#34;highlight editorconfig&#34;&gt;&lt;figcaption data-lang=&#34;editorconfig&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;proxy_set_header Upgrade $http_upgrade&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;proxy_set_header Connection &#34;upgrade&#34;&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ç¯„ä¾‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¯„ä¾‹&#34;&gt;#&lt;/a&gt; ç¯„ä¾‹&lt;/h2&gt;
&lt;figure class=&#34;highlight editorconfig&#34;&gt;&lt;figcaption data-lang=&#34;editorconfig&#34;&gt;&lt;span&gt;ç¯„ä¾‹&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;location /backend/ &amp;#123;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_pass http://backend/&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header Host $host&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header X-Real-IP $remote_addr&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header X-Custom-Referrer smc_identity_layer&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# websocket è¦åŠ ä¸‹é¢å…©å€‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header Upgrade $http_upgrade&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    proxy_set_header Connection &#34;upgrade&#34;&lt;span class=&#34;token comment&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;é©—è­‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é©—è­‰&#34;&gt;#&lt;/a&gt; é©—è­‰&lt;/h1&gt;
&lt;p&gt;æ¯”è¼ƒæœ‰ä¿®æ­£å‰è·Ÿä¿®æ­£å¾Œï¼Œå¾Œç«¯å¯¦éš›æ”¶åˆ°çš„ request header&lt;/p&gt;
&lt;h2 id=&#34;ä¿®æ­£å‰-request-headers&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£å‰-request-headers&#34;&gt;#&lt;/a&gt; ä¿®æ­£å‰ request headers&lt;/h2&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;figcaption data-lang=&#34;JavaScript&#34;&gt;&lt;span&gt;ä¿®æ­£å‰&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;Headers&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;host&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;x-real-ip&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;192.168.224.1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;x-forwarded-for&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;192.168.224.1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;x-custom-referrer&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;smc_identity_layer&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;connection&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;close&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;pragma&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;no-cache&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;cache-control&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;no-cache&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;user-agent&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;origin&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;chrome-extension://cbcbkhdmedgianpaifchdaddpnmgnknn&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-version&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;13&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;accept-encoding&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;gzip, deflate, br&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;accept-language&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-key&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;iBVj1v1X8xkD324lsXZSUA==&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-extensions&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;permessage-deflate; client_max_window_bits&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ä¿®æ­£å¾Œ-request-headers&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ­£å¾Œ-request-headers&#34;&gt;#&lt;/a&gt; ä¿®æ­£å¾Œ request headers&lt;/h2&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;figcaption data-lang=&#34;JavaScript&#34;&gt;&lt;span&gt;ä¿®æ­£å¾Œ&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;Headers&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;host&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;x-real-ip&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;192.168.208.1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;x-forwarded-for&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;192.168.208.1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;x-custom-referrer&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;smc_identity_layer&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;upgrade&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;websocket&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&#34;marked&#34;&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;connection&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;upgrade&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;pragma&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;no-cache&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;cache-control&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;no-cache&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;user-agent&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;origin&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;chrome-extension://cbcbkhdmedgianpaifchdaddpnmgnknn&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-version&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;13&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;accept-encoding&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;gzip, deflate, br&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;accept-language&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-key&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;j2NwT86WmJt6rIyatTa5rw==&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#39;sec-websocket-extensions&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;permessage-deflate; client_max_window_bits&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
    </channel>
</rss>
